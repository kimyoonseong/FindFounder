2024-04-29 00:52:34.304 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool
				- HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h44m9s362ms992µs500ns).
2024-04-29 01:04:04.112 [http-nio-8080-exec-4] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-4][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 200, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 01:04:04.136 [http-nio-8080-exec-4] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-4][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 203, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 01:09:18.191 [http-nio-8080-exec-5] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-5][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 01:09:18.199 [http-nio-8080-exec-5] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-5][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 01:11:30.001 [http-nio-8080-exec-9] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-9][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 01:11:30.004 [http-nio-8080-exec-9] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-9][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 01:17:41.001 [http-nio-8080-exec-1] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-1][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 01:17:41.008 [http-nio-8080-exec-1] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-1][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 01:37:47.855 [http-nio-8080-exec-7] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-7][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 01:37:47.865 [http-nio-8080-exec-7] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-7][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 01:40:07.986 [http-nio-8080-exec-2] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-2][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 01:40:07.988 [http-nio-8080-exec-2] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-2][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 01:44:29.517 [http-nio-8080-exec-10] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-10][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 01:44:29.521 [http-nio-8080-exec-10] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-10][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 01:46:19.344 [http-nio-8080-exec-10] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-10][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 01:46:19.348 [http-nio-8080-exec-10] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-10][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 01:46:20.662 [http-nio-8080-exec-1] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-1][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 01:46:20.667 [http-nio-8080-exec-1] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-1][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 01:47:52.257 [http-nio-8080-exec-2] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-2][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 01:47:52.263 [http-nio-8080-exec-2] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-2][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 01:59:44.294 [http-nio-8080-exec-8] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-8][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 01:59:44.298 [http-nio-8080-exec-8] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-8][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 04:52:45.747 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool
				- HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2h42m40s321ms614µs100ns).
2024-04-29 04:52:47.577 [http-nio-8080-exec-1] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-1][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 04:52:47.577 [http-nio-8080-exec-1] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-1][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 04:56:11.589 [http-nio-8080-exec-2] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-2][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 04:56:11.592 [http-nio-8080-exec-2] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-2][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 04:56:27.305 [http-nio-8080-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 04:56:29.731 [http-nio-8080-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 04:57:57.188 [http-nio-8080-exec-5] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-5][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 04:57:57.192 [http-nio-8080-exec-5] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-5][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:02:08.439 [http-nio-8080-exec-5] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-5][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:02:08.444 [http-nio-8080-exec-5] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-5][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:04:21.153 [http-nio-8080-exec-5] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-5][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:04:21.157 [http-nio-8080-exec-5] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-5][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:04:22.461 [http-nio-8080-exec-9] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-9][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:04:22.465 [http-nio-8080-exec-9] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-9][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:04:45.563 [http-nio-8080-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:04:45.785 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:04:47.292 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:12:07.125 [http-nio-8080-exec-7] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-7][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:12:07.131 [http-nio-8080-exec-7] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-7][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:18:14.222 [http-nio-8080-exec-1] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-1][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:18:14.231 [http-nio-8080-exec-1] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-1][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:18:14.335 [http-nio-8080-exec-1] ERROR org.thymeleaf.TemplateEngine
				- [THYMELEAF][http-nio-8080-exec-1] Exception processing template "index": An error happened during template parsing (template: "class path resource [templates/index.html]" - line 272, col 14)
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/index.html]" - line 272, col 14)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:239)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.example.demo.util.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.attoparser.ParseException: (Line = 272, Column = 14) Incomplete structure: "<div class="button-container" style="flex-grow: 1;"">
														<button type="button" class="btn btn-success"
															onclick="toggleDropdown('교육', 'categoryDropdown2')"	style="white-space: nowrap;">교육</button>
														<div id="categoryDropdown2" class="category-dropdown"
															style="display: none;">
															<!-- 교육 드롭다운 내용 -->
														</div>
													</div>
												</div>
												<!-- 교육 리스트 -->
												<div id="categoryList2" class="category-list"
													style="margin-bottom: 10px;">
												</div>
											</div>



											<div class="col-md-2">
												<div class="btn-container"
													style="margin-bottom: 10px;	 display: flex; flex-direction: row; align-items: center; align-items: flex-start;">

													<div class="image-container" style="width:100px;">

														<img th:src="@{/images/service.png}"
															style="width: 50%; height: auto;">
													</div>
													<div class="btn-container">
														<button type="button" class="btn btn-info"
															onclick="toggleDropdown('서비스', 'categoryDropdown3')">서비스</button>
														<div id="categoryDropdown3" class="category-dropdown"
															style="display: none;">
														</div> <!-- 서비스 드롭다운 -->
													</div>
												</div>
												<!-- 서비스 리스트 -->
												<div id="categoryList3" class="category-list"
													style="margin-bottom: 10px;">
												</div>
											</div>




											<div class="col-md-2">
												<div class="btn-container"
													style="margin-bottom: 10px; display: flex; flex-direction: row; align-items: center; align-items: flex-start;">

													<div class="image-container" style="width:100px;">

														<img th:src="@{/images/entertainment.png}"
															style="width: 50%; height: auto;">
													</div>
													<div class="btn-container">
														<button type="button" class="btn btn-warning"
															onclick="toggleDropdown('오락', 'categoryDropdown4')">오락</button>
														<div id="categoryDropdown4" class="category-dropdown"
															style="display: none;">
														</div> <!-- 오락 드롭다운 -->
													</div>
												</div>
												<!-- 오락 리스트 -->
												<div id="categoryList4" class="category-lit"
													style="margin-bottom: 10px;">
												</div>

											</div>


											<div class="col-md-2">
												<div class="btn-container"
													style="margin-bottom: 10px; display: flex; flex-direction: row; align-items: center; align-items: flex-start;">
													<div class="image-container" style="width:100px;">

														<img th:src="@{/images/retail.png}"
															style="width: 50%; height: auto;">
													</div>
													<div class="btn-container">

														<button type="button" class="btn btn-danger"
															onclick="toggleDropdown('소매', 'categoryDropdown5')">소매</button>
														<div id="categoryDropdown5" class="category-dropdown"
															style="display: none;">
														</div> <!-- 소매 드롭다운 -->
													</div>
												</div>
												<!-- 소매 리스트 -->
												<div id="categoryList5" class="category-list"
													style="margin-bottom: 10px;">
												</div>
											</div>

										</div>
									</div>
								</div>



								<!-- 지역 이름 -->
								<div style="display: flex; flex-direction: row; justify-content: center;">
									<label for="areaName" style="margin-right: 10px;">지역 이름:</label>
									<input type="text" id="areaName" name="areaName">
									<label for="IndustryName" style="margin-left: 20px; margin-right: 10px;">업종:</label>
									<input type="text" id="IndustryName" name="IndustryName">
								</div>
								<input type="hidden" id="selectedCategory" name="selectedCategory">

								<!-- 제출 버튼 -->

								<button id="submitButton" type="button" onclick="submitForm()"
									style="position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);">선택
									완료</button>
							</form>
						</div>


					</div>
				</div>

		</div>
	</div>
	`

	<!-- 카드 섹션 -->
	<div class="container mt-8">
		<div class="row justify-content-center">
			<div class="col-md-4">



				<!--<a class="btn btn-primary btn-sm custom-button stretched-link " href="buytoken">
											쿠폰 구매하기
											<i class="fas fa-shopping-cart ms-2"></i>
										</a>-->
				<button class="btn-3d blue" onclick="window.location.href='buytoken'">
					쿠폰 구매하기
					<i class="fas fa-shopping-cart ms-2"></i>
				</button>


			</div>
			<div class="col-md-4">
				<!--<div class="card mb-4 custom-card mt-4">

									<div class="card-footer bg-warning text-white border-0">
										<a class="btn btn-warning btn-sm custom-button stretched-link" href="consult">
											AI 맞춤 컨설팅 받기
											<i class="fas fa-comment-dots ms-2"></i>
										</a>
									</div>-->
				<button class="btn-3d yellow" onclick="window.location.href='consult'">
					AI 맞춤 컨설팅 받기
					<i class="fas fa-comment-dots ms-2"></i>
				</button>
				<!--</div>-->
			</div>
		</div>
	</div>


	<!-- 차트 섹션 -->
	<!-- 그래프를 그릴 Canvas 요소 -->
	<!-- 그래프를 그릴 Canvas 요소 -->
	<div class="container mt-5">

		<p class="fs-4">
			<span id="areaNameSpan" class="fw-bold"></span> 의 <span id="industryNameSpan" class="fw-bold"></span> 통계
			결과입니다
		</p>
		<hr> <!-- 밑줄 -->
		<!-- 2023년 분기 평균 지출과 최고지출 카테고리 top 3 -->
		<div class="row mt-3">
			<div class="col-xl-12 text-center">
				<div class="row">
					<div class="col-md-6">
						<div class="card mb-4">
							<div class="card-body">
								<p class="fs-4">
									<span id="areaNameSpan1" class="fw-bold"></span> 평균 분기별 총 지출은<br>
									<span id="moneyRegionValue" class="fw-bold"></span>원 입니다.
								</p>
								<p class="fs-6 text-muted">*2023년 기준입니다</p>
							</div>
						</div>

					</div>

					<div class="col-md-6">
						<div class="card mb-4">
							<div class="card-body">
								<p class="fs-4">2023년 <span id="areaNameSpan"></span> 지출 카테고리 순위는
									<span id="rankingSpan" class="fw-bold"></span> 입니다
								</p>
							</div>
						</div>
					</div>





				</div>
			</div>
		</div>

		<div class="col">
			<div class="row">
				<div class="col-md-6">
					<div class="card mb-4">
						<div class="card-body text-center">
							<p class="fs-4">2023년 <span id="areaNameSpan2" class="fw-bold"></span> <br>
								집객시설 갯수는
								인접 지역 보다 <br>
								<span id="avg_diff" class="fw-bold"></span>
							</p>
						</div>
					</div>
				</div>
				<div class="col-md-6">
					<div class="card mb-4">
						<div class="card-header">
							<h5 class="card-title"><i class="fas fa-chart-bar me-1"></i> 2023년 <span
									id="industryNameSpan2" class="fw-bold"></span> 유사업종 개수입니다</h5>
						</div>
						<div class="card-body">
							<canvas id="myBarChart" width="100%" height="40"></canvas>
						</div>
					</div>
				</div>
			</div>
			<div class="card mb-4">
				<div class="card-header">
					<h5 class="card-title"><i class="fas fa-chart-bar me-1"></i> 분기별 운영 기간</h5>
				</div>
				<div class="card-body">
					<canvas id="myAreaChart" width="100%" height="40"></canvas>
				</div>
			</div>
		</div>


		<div class="row mt-3">
			<div class="col-xl-12 text-center">
				<div class="row">
					<div class="col-md-6">
						<div class="card mb-4">
							<div class="card-body">
								<p class="fs-4"> 유동인구가 가장 많은 요일은 <span id="mostPopularDay" class="fw-bold"></span>입니다.
								</p>
								<p class="fs-6 text-muted">*2023년 기준입니다</p>
							</div>
						</div>
					</div>
					<div class="col-md-6">
						<div class="card mb-4">
							<div class="card-body">
								<p class="fs-4">일일평균 유동인구는 <span id="totalPopulation" class="fw-bold"></span>명 입니다
								</p>

							</div>
							<div class="card-body text-end">
								<p class="fs-6 text-muted">*2023년 기준입니다</p>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="row mt-5">
				<div class="col-xl-4">
					<div class="card mb-4">
						<canvas id="movingPeopleChart" width="100%" height="60"></canvas>
					</div>
				</div>
				<div class="col-xl-4">
					<div class="card mb-4">
						<canvas id="movingPeopleChart3" width="100%" height="60"></canvas>
					</div>
				</div>
				<div class="col-xl-4">
					<div class="card mb-4">
						<canvas id="movingPeopleChart2" width="100%" height="60"></canvas>
					</div>
				</div>
			</div>

		</div>


		</main>
		<footer class="py-4 bg-light mt-auto">
			<div class="container-fluid px-4">
				<div class="d-flex align-items-center justify-content-between small">
					<div class="text-muted">Copyright &copy; Your Website 2023</div>
					<div>
						<a href="#">Privacy Policy</a>
						&middot;
						<a href="#">Terms &amp; Conditions</a>
					</div>
				</div>
			</div>
		</footer>
	</div>

	</div>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
		crossorigin="anonymous"></script>
	<script src="js/scripts.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
	<script src="assets/demo/chart-area-demo.js"></script>
	<script src="assets/demo/moving_people_chart.js"></script>
	<script src="assets/demo/expand_category_chart.js"></script>
	<script src="assets/demo/chart-bar-demo.js"></script>
	<script src="assets/demo/similar_store_chart.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/umd/simple-datatables.min.js"
		crossorigin="anonymous"></script>
	<script src="js/datatables-simple-demo.js"></script>
	<!--여기 까지가 헤더안에 있음-->

	<!-- JavaScript 코드 -->
	<script type="text/javascript"
		src="//dapi.kakao.com/v2/maps/sdk.js?appkey=4abdb80406262cf828aa65098fbf2578"></script>

	<!-- Bootstrap JS 및 기타 스크립트 -->
	<!-- Bootstrap JS -->
	<!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.0/js/bootstrap.bundle.min.js"></script> -->
	<!-- Font Awesome JS -->
	<!-- <script src="https://kit.fontawesome.com/a076d05399.js"></script> -->


	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script>
		// 지도에 폴리곤으로 표시할 영역데이터 배열입니다 


		/* 1. JSON 파일을 읽어들여 areas 배열을 채워넣는 작업 */
		var areas = []; // areas 변수를 먼저 정의합니다.
		// 1) getJSON도 ajax 메소드와 같이 async(비동기) 방식으로 동작하는데, 순차실행을 위해 이걸 강제로 sync 방식으로 동작하도록 함.
		$.ajaxSetup({
			async: false
		});

		$.getJSON("seoul_municipalities_geo_simple.json", function (geojson) {
			var units = geojson.features; // 파일에서 key값이 "features"인 것의 value를 통으로 가져옴(이것은 여러지역에 대한 정보를 모두 담고있음)	
			$.each(units, function (index, unit) { // 1개 지역씩 꺼내서 사용함. val은 그 1개 지역에 대한 정보를 담음

				var name = ''; // 지역 이름

				// areas = unit.geometry.coordinates; // 1개 지역의 영역을 구성하는 도형의 모든 좌표 배열을 가져옴 
				name = unit.properties.name; // 1개 지역의 이름을 가져옴

				var ob = new Object();
				ob.name = name;
				ob.path = [];

				$.each(unit.geometry.coordinates[0], function (index, coordinate) { //.geometry.coordinates[]로 한번 더 감싸져 있어서 index 0번의 것을 꺼내야 배열을 접근가능.
					ob.path.push(new kakao.maps.LatLng(coordinate[1], coordinate[0]));
				});

				areas[index] = ob;
				//console.log(areas[index])
			});//each
		});//getJSON


		/* 2. 지도 띄우기 */

		var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
			mapOption = {
				center: new kakao.maps.LatLng(37.566826, 126.9786567), // 지도의 중심좌표
				level: 9 // 지도의 확대 레벨
			};

		var map = new kakao.maps.Map(mapContainer, mapOption),
			customOverlay = new kakao.maps.CustomOverlay({}),
			infowindow = new kakao.maps.InfoWindow({removable: true});

		/* 3. 폴리곤 도형을 지도위에 띄우고 마우스 이벤트 붙이기 */

		// 지도에 영역데이터를 폴리곤으로 표시합니다 
		for (var i = 0, len = areas.length; i < len; i++) {
			displayArea(areas[i]);
		}


		// 다각형을 생상하고 이벤트를 등록하는 함수입니다
		function displayArea(area) {

			// 다각형을 생성합니다 
			var polygon = new kakao.maps.Polygon({
				map: map, // 다각형을 표시할 지도 객체
				path: area.path,
				strokeWeight: 2,
				strokeColor: '#004c80',
				strokeOpacity: 0.8,
				fillColor: '#fff',
				fillOpacity: 0.7
			});

			// 다각형에 mouseover 이벤트를 등록하고 이벤트가 발생하면 폴리곤의 채움색을 변경합니다 
			// 지역명을 표시하는 커스텀오버레이를 지도위에 표시합니다
			kakao.maps.event.addListener(polygon, 'mouseover', function (mouseEvent) {
				polygon.setOptions({fillColor: '#09f'});

				customOverlay.setContent('<div class="area">' + area.name + '</div>');

				customOverlay.setPosition(mouseEvent.latLng);
				customOverlay.setMap(map);
			});

			// 다각형에 mousemove 이벤트를 등록하고 이벤트가 발생하면 커스텀 오버레이의 위치를 변경합니다 
			kakao.maps.event.addListener(polygon, 'mousemove', function (mouseEvent) {

				customOverlay.setPosition(mouseEvent.latLng);
			});

			// 다각형에 mouseout 이벤트를 등록하고 이벤트가 발생하면 폴리곤의 채움색을 원래색으로 변경합니다
			// 커스텀 오버레이를 지도에서 제거합니다 
			kakao.maps.event.addListener(polygon, 'mouseout', function () {
				polygon.setOptions({fillColor: '#fff'});
				customOverlay.setMap(null);
			});

			kakao.maps.event.addListener(polygon, 'click', function (mouseEvent) {
				var content = '<div class="info">' +
					'   <div class="title">' + area.name + '</div>' +
					'   <div class="size">총 면적 : 약 ' + Math.floor(polygon.getArea()) + ' m<sup>2</sup></div>' +
					'</div>';
				document.getElementById('areaName').value = area.name;
				// let weekendPieChart = null;
				// let weekdayBarChart = null;
				// let weekendBarChart = null;        
				infowindow.setContent(content);
				infowindow.setPosition(mouseEvent.latLng);
				infowindow.setMap(map);
				var areaName = area.name;

				// fetch API를 사용하여 서버의 API를 호출
				fetch(`/api/region?category=${areaName}`, {
					method: 'POST',
					headers: {
						'Cookie': 'Set-Cookie=' + document.cookie // JWT 토큰을 쿠키로 전달
					}
				})
					.then(response => response.json())
					.then(data => {
						// 서버로부터 받은 데이터를 처리
						console.log('Received region:', data);
						// 받은 데이터를 해독하여 한글로 표시
						const form = document.getElementById('areaCategoryForm');

						// 기존에 있던 버튼을 모두 제거
						form.innerHTML = '';

						// 데이터를 이용하여 버튼을 생성하고 폼 안에 추가
						data.forEach(area => {
							const button = document.createElement('button');
							button.textContent = area;
							button.value = area; // 버튼의 값 설정
							button.type = 'button'; // 버튼의 타입을 명시적으로 지정
							button.addEventListener('click', function () {
								// 버튼 클릭 시의 동작을 정의할 수 있음
								document.getElementById('areaName').value = area;
								// 예를 들어, 해당 지역을 선택한 후의 동작을 여기에 정의할 수 있음

								console.log('Selected area:', area);
							});

							// 버튼을 폼에 추가
							form.appendChild(button);
						});
					})
					.catch(error => {
						console.error('Error fetching region:', error);
					});
			});
		}



	</script>

	<script>
		$(document).ready(function () {
			// 로그아웃 버튼 클릭 이벤트 처리
			$('#navdrop li #logout').click(function () {
				// 로그아웃 API 호출
				$.ajax({
					type: 'POST',
					url: 'http://localhost:8080/api/user/logout',
					success: function (response) {
						// 로그아웃 성공 시 작업
						console.log(response);
						alert('로그아웃되었습니다.');
						// 여기에 추가 작업을 할 수 있습니다. 예를 들어 로그인 페이지로 리디렉션 등
					},
					error: function (xhr, status, error) {
						// 로그아웃 실패 시 작업
						console.error('로그아웃 실패:', error);
						// 실패 메시지 표시 또는 다른 작업을 수행할 수 있습니다.
					}
				});
			});
		});

	</script>
	<!-- flask에서 업종리스트가져오기 -->

	<script>
		// 선택된 업종을 저장하는 변수
		let selectedCategories = [];
		// 현재 열려 있는 드롭다운의 아이디를 저장하는 변수
		let currentDropdown = null;

		function toggleDropdown(category, dropdownId) {
			const dropdown = document.getElementById(dropdownId);

			// 현재 열려 있는 드롭다운이 있으면 닫기
			if (currentDropdown !== null && currentDropdown !== dropdownId) {
				document.getElementById(currentDropdown).style.display = 'none';
			}

			// 현재 열려 있는 드롭다운 설정
			currentDropdown = dropdownId;

			// 드롭다운 토글
			if (dropdown.style.display === 'block') {
				dropdown.style.display = 'none';
			} else {
				fetch('/api/industry?category=' + encodeURIComponent(category), {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json'
					},
					body: JSON.stringify({
						category: category
					})
				})
					.then(response => response.json())
					.then(data => {
						dropdown.innerHTML = data.map(item => `<button type="button" class="btn btn-secondary" onclick="selectCategory('${item}')">${item}</button>`).join('');
						dropdown.style.display = 'block';
					})
					.catch(error => console.error('에러 발생:', error));
			}
			// 이미지 크기 변경을 막는 함수
			function disableImageResize() {
				const image = document.querySelector('#categoryDropdown1 img');
				image.style.width = '50%';
				image.style.marginTop = '-20px';
				image.style.marginBottom = '10px';
			}

			// 초기화 함수
			function init() {
				// 음식점 버튼에 이벤트 리스너 추가
				document.querySelector('#categoryDropdown1 button').addEventListener('click', function () {
					// 이미지 크기 변경을 막음
					disableImageResize();
				});
			}

			// DOM 로드 시 초기화 함수 호출
			document.addEventListener('DOMContentLoaded', init)
		}

		// 카테고리 선택 함수
		function selectCategory(category) {
			selectedCategories.push(category);
			document.getElementById('selectedCategory').value = selectedCategories.join(', ');
		}

		// 카테고리 선택 함수
		function selectCategory(category) {
			selectedCategories.push(category);
			document.getElementById('selectedCategory').value = selectedCategories.join(', ');
			// 선택된 업종을 input 요소에 저장
			document.getElementById('IndustryName').value = category;
		}

		// 기존 JavaScript 코드 블록

		// 선택된 업종을 저장하는 변수
		let selectedCategory = null;

		// 카테고리 선택 함수
		function selectCategory(category) {
			selectedCategory = category;
			document.getElementById('selectedCategory').value = selectedCategory;
			// 선택된 업종을 input 요소에 저장
			document.getElementById('IndustryName').value = selectedCategory;
			// 선택된 업종 초기화
			selectedCategories = [];
		}    
	</script>
	<!-- 통계 api호출 -->
	<script>
		var myChart; // 전역 변수로 Chart 객체 선언

		function submitForm() {
			const areaName = document.getElementById('areaName').value;
			const selectedCategory = document.getElementById('selectedCategory').value;
			const url = `/api/analysis?region=${encodeURIComponent(areaName)}&industry=${encodeURIComponent(selectedCategory)}`;
			// 선택 완료 버튼을 누르면 숨겨진 요소를 보이도록 설정
			var elementsToShow = document.querySelectorAll('.container.mt-5');
			elementsToShow.forEach(function (element) {
				element.style.display = 'block';
			});
			// Fetch API를 사용하여 데이터 가져오기
			fetch(url, {
				method: 'GET',
				headers: {
					'Content-Type': 'application/json'
				}
			})
				.then(response => {
					if (!response.ok) {
						throw new Error('서버 응답 오류');
					}
					return response.json(); // 서버 응답을 JSON 형식으로 변환
				})
				.then(data => {
					// industry_life 데이터 추출
					const industryLifeData = data.industry_life;

					// seoul_moving_people 데이터 추출
					const seoulMovingPeopleData = data.seoul_moving_people;
					const seoulSimilarStore = data.seoul_similar_store;
					const seoulUseMoney = data.seoul_use_money;
					const seoulZipgack = data.seoul_zipgack;
					drawChart(industryLifeData); // 데이터를 기반으로 그래프 그리기
					drawChart_moving(seoulMovingPeopleData);
					drawSimilarChart(seoulSimilarStore);
					const moneyRegion = seoulUseMoney['2023년 분기 평균 지출'];
					const moneyRegionSpan = document.getElementById('moneyRegionValue');
					// moneyRegion 값을 포맷팅하여 출력합니다.
					moneyRegionSpan.textContent = formatNumber(moneyRegion);
					// displayTotalPopulation(totalPopulation);
					const countZipgack = seoulZipgack['avg_diff'];
					const RegionZipgackDiffSpan = document.getElementById('avg_diff');
					//RegionZipgackDiffSpan.textContent=countZipgack;
					//gpt수정부
					if (countZipgack > 0) {
						RegionZipgackDiffSpan.textContent = `${countZipgack}% 만큼 더 많습니다.`;
						RegionZipgackDiffSpan.style.color = "red"; // 글씨가 빨간색으로 변경됩니다
					} else if (countZipgack < 0) {
						RegionZipgackDiffSpan.textContent = `${-countZipgack}% 만큼 더 적습니다.`;
						RegionZipgackDiffSpan.style.color = "blue"; // 글씨가 빨간색으로 변경됩니다
					} else {
						RegionZipgackDiffSpan.textContent = "같습니다.";
						RegionZipgackDiffSpan.style.color = "green"; // 글씨가 파란색으로 변경됩니다
					}
					// 지역이름 선언부
					const areaName = document.getElementById('areaName').value;
					const areaNameSpan = document.getElementById('areaNameSpan');
					areaNameSpan.textContent = areaName;
					const areaNameSpan1 = document.getElementById('areaNameSpan1');
					areaNameSpan1.textContent = areaName;
					const areaNameSpan2 = document.getElementById('areaNameSpan2');
					areaNameSpan2.textContent = areaName;


					const industryName1 = document.getElementById('selectedCategory').value;


					const industryNameSpan = document.getElementById('industryNameSpan');
					industryNameSpan.textContent = industryName1;

					const industryNameSpan2 = document.getElementById('industryNameSpan2');
					industryNameSpan2.textContent = industryName1;
					// 지출 순위
					const firstCategory = seoulUseMoney['1위카테고리'];
					const secondCategory = seoulUseMoney['2위카테고리'];
					const thirdCategory = seoulUseMoney['3위카테고리'];

					const rankingSpan = document.getElementById('rankingSpan');
					rankingSpan.innerHTML = `<br>1위: ${firstCategory}<br>2위: ${secondCategory}<br>3위: ${thirdCategory}<br>`;
				})
				.catch(error => {
					console.error('에러 발생:', error); // 오류 메시지 출력
				});
		}


	</script>
	<script>
		// 숫자 포맷팅 함수 정의 억 만단위 끊기
		function formatNumber(number) {
			if (number >= 1000000000000) {
				return `${Math.floor(number / 1000000000000)}조 ${Math.floor((number % 1000000000000) / 100000000)}억 ${Math.floor((number % 100000000) / 10000)}만`;
			}
			// 숫자가 억 이상일 경우
			else if (number >= 100000000) {
				return `${Math.floor(number / 100000000)}억 ${Math.floor((number % 100000000) / 10000)}만`;
			}
			// 숫자가 억 미만일 경우
			else {
				return `${Math.floor(number / 10000)}만`;
			}
		}
	</script>



	<!--가영누나 로직  -->
	<script>
		// 로그인 상태를 확인하는 함수
		function isLoggedIn() {
			// 클라이언트의 모든 쿠키를 가져옵니다.
			console.log('###########');
			const cookies = document.cookie.split(';');

			// 쿠키에서 로그인 상태를 나타내는 특정 쿠키를 찾습니다.
			for (let i = 0; i < cookies.length; i++) {
				const cookie = cookies[i].trim();
				if (cookie.startsWith("Set-Cookie")) {
					console.log(cookie)
					return true; // 로그인 상태
				}
			}
			return false; // 로그아웃 상태
		}

		// 로그아웃 함수
		function logout() {
			// 로그아웃 요청을 보내고, 성공시에만 링크를 변경합니다.
			fetch('/api/user/logout', {
				method: 'POST'
			}).then(function (response) {
				if (response.ok) {
					document.getElementById('logout').style.display = 'none'; // 로그아웃 링크 숨김
					document.getElementById('login').style.display = 'block'; // 로그인 링크 표시
				}
			});
		}
		document.addEventListener('DOMContentLoaded', function () {
			try {
				// 오류가 발생할 수 있는 코드
				console.log("#########");

				// isLoggedIn() 함수 호출
				if (isLoggedIn()) {
					document.getElementById('logout').style.display = 'block';
					document.getElementById('login').style.display = 'none';
				} else {
					document.getElementById('logout').style.display = 'none';
					document.getElementById('login').style.display = 'block';
				}
			} catch (error) {
				// 오류 발생 시 처리
				console.error("An error occurred:", error);
			}

			// 각 링크 요소 가져오기
			const mypageLink = document.querySelector('a[href="mypage_viewer"]');
			const seoulStatisticsLink = document.querySelector('a[data-bs-target="#collapseLayouts"]');
			const communityLink = document.querySelector('a[data-bs-target="#collapsePages"]');
			const inquiryLink = document.querySelector('a[href="charts.html"]');

			// 클릭 이벤트 핸들러 설정
			mypageLink.addEventListener('click', function (event) {
				// 로그인 상태를 확인하는 함수 호출
				if (!isLoggedIn()) {
					// 로그인 상태가 아닌 경우, 로그인 페이지로 이동
					alert('로그인해주세요.');
					window.location.href = 'login'; // 로그인 페이지 URL로 변경 필요
					event.preventDefault(); // 클릭 이벤트의 기본 동작을 막음 (링크 이동 취소)
				}
			});

			seoulStatisticsLink.addEventListener('click', function (event) {
				// 로그인 상태를 확인하는 함수 호출
				if (!isLoggedIn()) {
					// 로그인 상태가 아닌 경우, 로그인 페이지로 이동
					alert('로그인해주세요.');
					window.location.href = 'login'; // 로그인 페이지 URL로 변경 필요
					event.preventDefault(); // 클릭 이벤트의 기본 동작을 막음 (링크 이동 취소)
				}
			});

			communityLink.addEventListener('click', function (event) {
				// 로그인 상태를 확인하는 함수 호출
				if (!isLoggedIn()) {
					// 로그인 상태가 아닌 경우, 로그인 페이지로 이동
					alert('로그인해주세요.');
					window.location.href = 'login'; // 로그인 페이지 URL로 변경 필요
					event.preventDefault(); // 클릭 이벤트의 기본 동작을 막음 (링크 이동 취소)
				}
			});

			inquiryLink.addEventListener('click', function (event) {
				// 로그인 상태를 확인하는 함수 호출
				if (!isLoggedIn()) {
					// 로그인 상태가 아닌 경우, 로그인 페이지로 이동
					alert('로그인해주세요.');
					window.location.href = 'login'; // 로그인 페이지 URL로 변경 필요
					event.preventDefault(); // 클릭 이벤트의 기본 동작을 막음 (링크 이동 취소)
				}
			});
		});

	</script>


</body>

</html>"
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:366)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 135 common frames omitted
2024-04-29 05:18:14.457 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet]
				- Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/index.html]" - line 272, col 14)] with root cause
org.attoparser.ParseException: (Line = 272, Column = 14) Incomplete structure: "<div class="button-container" style="flex-grow: 1;"">
														<button type="button" class="btn btn-success"
															onclick="toggleDropdown('교육', 'categoryDropdown2')"	style="white-space: nowrap;">교육</button>
														<div id="categoryDropdown2" class="category-dropdown"
															style="display: none;">
															<!-- 교육 드롭다운 내용 -->
														</div>
													</div>
												</div>
												<!-- 교육 리스트 -->
												<div id="categoryList2" class="category-list"
													style="margin-bottom: 10px;">
												</div>
											</div>



											<div class="col-md-2">
												<div class="btn-container"
													style="margin-bottom: 10px;	 display: flex; flex-direction: row; align-items: center; align-items: flex-start;">

													<div class="image-container" style="width:100px;">

														<img th:src="@{/images/service.png}"
															style="width: 50%; height: auto;">
													</div>
													<div class="btn-container">
														<button type="button" class="btn btn-info"
															onclick="toggleDropdown('서비스', 'categoryDropdown3')">서비스</button>
														<div id="categoryDropdown3" class="category-dropdown"
															style="display: none;">
														</div> <!-- 서비스 드롭다운 -->
													</div>
												</div>
												<!-- 서비스 리스트 -->
												<div id="categoryList3" class="category-list"
													style="margin-bottom: 10px;">
												</div>
											</div>




											<div class="col-md-2">
												<div class="btn-container"
													style="margin-bottom: 10px; display: flex; flex-direction: row; align-items: center; align-items: flex-start;">

													<div class="image-container" style="width:100px;">

														<img th:src="@{/images/entertainment.png}"
															style="width: 50%; height: auto;">
													</div>
													<div class="btn-container">
														<button type="button" class="btn btn-warning"
															onclick="toggleDropdown('오락', 'categoryDropdown4')">오락</button>
														<div id="categoryDropdown4" class="category-dropdown"
															style="display: none;">
														</div> <!-- 오락 드롭다운 -->
													</div>
												</div>
												<!-- 오락 리스트 -->
												<div id="categoryList4" class="category-lit"
													style="margin-bottom: 10px;">
												</div>

											</div>


											<div class="col-md-2">
												<div class="btn-container"
													style="margin-bottom: 10px; display: flex; flex-direction: row; align-items: center; align-items: flex-start;">
													<div class="image-container" style="width:100px;">

														<img th:src="@{/images/retail.png}"
															style="width: 50%; height: auto;">
													</div>
													<div class="btn-container">

														<button type="button" class="btn btn-danger"
															onclick="toggleDropdown('소매', 'categoryDropdown5')">소매</button>
														<div id="categoryDropdown5" class="category-dropdown"
															style="display: none;">
														</div> <!-- 소매 드롭다운 -->
													</div>
												</div>
												<!-- 소매 리스트 -->
												<div id="categoryList5" class="category-list"
													style="margin-bottom: 10px;">
												</div>
											</div>

										</div>
									</div>
								</div>



								<!-- 지역 이름 -->
								<div style="display: flex; flex-direction: row; justify-content: center;">
									<label for="areaName" style="margin-right: 10px;">지역 이름:</label>
									<input type="text" id="areaName" name="areaName">
									<label for="IndustryName" style="margin-left: 20px; margin-right: 10px;">업종:</label>
									<input type="text" id="IndustryName" name="IndustryName">
								</div>
								<input type="hidden" id="selectedCategory" name="selectedCategory">

								<!-- 제출 버튼 -->

								<button id="submitButton" type="button" onclick="submitForm()"
									style="position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);">선택
									완료</button>
							</form>
						</div>


					</div>
				</div>

		</div>
	</div>
	`

	<!-- 카드 섹션 -->
	<div class="container mt-8">
		<div class="row justify-content-center">
			<div class="col-md-4">



				<!--<a class="btn btn-primary btn-sm custom-button stretched-link " href="buytoken">
											쿠폰 구매하기
											<i class="fas fa-shopping-cart ms-2"></i>
										</a>-->
				<button class="btn-3d blue" onclick="window.location.href='buytoken'">
					쿠폰 구매하기
					<i class="fas fa-shopping-cart ms-2"></i>
				</button>


			</div>
			<div class="col-md-4">
				<!--<div class="card mb-4 custom-card mt-4">

									<div class="card-footer bg-warning text-white border-0">
										<a class="btn btn-warning btn-sm custom-button stretched-link" href="consult">
											AI 맞춤 컨설팅 받기
											<i class="fas fa-comment-dots ms-2"></i>
										</a>
									</div>-->
				<button class="btn-3d yellow" onclick="window.location.href='consult'">
					AI 맞춤 컨설팅 받기
					<i class="fas fa-comment-dots ms-2"></i>
				</button>
				<!--</div>-->
			</div>
		</div>
	</div>


	<!-- 차트 섹션 -->
	<!-- 그래프를 그릴 Canvas 요소 -->
	<!-- 그래프를 그릴 Canvas 요소 -->
	<div class="container mt-5">

		<p class="fs-4">
			<span id="areaNameSpan" class="fw-bold"></span> 의 <span id="industryNameSpan" class="fw-bold"></span> 통계
			결과입니다
		</p>
		<hr> <!-- 밑줄 -->
		<!-- 2023년 분기 평균 지출과 최고지출 카테고리 top 3 -->
		<div class="row mt-3">
			<div class="col-xl-12 text-center">
				<div class="row">
					<div class="col-md-6">
						<div class="card mb-4">
							<div class="card-body">
								<p class="fs-4">
									<span id="areaNameSpan1" class="fw-bold"></span> 평균 분기별 총 지출은<br>
									<span id="moneyRegionValue" class="fw-bold"></span>원 입니다.
								</p>
								<p class="fs-6 text-muted">*2023년 기준입니다</p>
							</div>
						</div>

					</div>

					<div class="col-md-6">
						<div class="card mb-4">
							<div class="card-body">
								<p class="fs-4">2023년 <span id="areaNameSpan"></span> 지출 카테고리 순위는
									<span id="rankingSpan" class="fw-bold"></span> 입니다
								</p>
							</div>
						</div>
					</div>





				</div>
			</div>
		</div>

		<div class="col">
			<div class="row">
				<div class="col-md-6">
					<div class="card mb-4">
						<div class="card-body text-center">
							<p class="fs-4">2023년 <span id="areaNameSpan2" class="fw-bold"></span> <br>
								집객시설 갯수는
								인접 지역 보다 <br>
								<span id="avg_diff" class="fw-bold"></span>
							</p>
						</div>
					</div>
				</div>
				<div class="col-md-6">
					<div class="card mb-4">
						<div class="card-header">
							<h5 class="card-title"><i class="fas fa-chart-bar me-1"></i> 2023년 <span
									id="industryNameSpan2" class="fw-bold"></span> 유사업종 개수입니다</h5>
						</div>
						<div class="card-body">
							<canvas id="myBarChart" width="100%" height="40"></canvas>
						</div>
					</div>
				</div>
			</div>
			<div class="card mb-4">
				<div class="card-header">
					<h5 class="card-title"><i class="fas fa-chart-bar me-1"></i> 분기별 운영 기간</h5>
				</div>
				<div class="card-body">
					<canvas id="myAreaChart" width="100%" height="40"></canvas>
				</div>
			</div>
		</div>


		<div class="row mt-3">
			<div class="col-xl-12 text-center">
				<div class="row">
					<div class="col-md-6">
						<div class="card mb-4">
							<div class="card-body">
								<p class="fs-4"> 유동인구가 가장 많은 요일은 <span id="mostPopularDay" class="fw-bold"></span>입니다.
								</p>
								<p class="fs-6 text-muted">*2023년 기준입니다</p>
							</div>
						</div>
					</div>
					<div class="col-md-6">
						<div class="card mb-4">
							<div class="card-body">
								<p class="fs-4">일일평균 유동인구는 <span id="totalPopulation" class="fw-bold"></span>명 입니다
								</p>

							</div>
							<div class="card-body text-end">
								<p class="fs-6 text-muted">*2023년 기준입니다</p>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="row mt-5">
				<div class="col-xl-4">
					<div class="card mb-4">
						<canvas id="movingPeopleChart" width="100%" height="60"></canvas>
					</div>
				</div>
				<div class="col-xl-4">
					<div class="card mb-4">
						<canvas id="movingPeopleChart3" width="100%" height="60"></canvas>
					</div>
				</div>
				<div class="col-xl-4">
					<div class="card mb-4">
						<canvas id="movingPeopleChart2" width="100%" height="60"></canvas>
					</div>
				</div>
			</div>

		</div>


		</main>
		<footer class="py-4 bg-light mt-auto">
			<div class="container-fluid px-4">
				<div class="d-flex align-items-center justify-content-between small">
					<div class="text-muted">Copyright &copy; Your Website 2023</div>
					<div>
						<a href="#">Privacy Policy</a>
						&middot;
						<a href="#">Terms &amp; Conditions</a>
					</div>
				</div>
			</div>
		</footer>
	</div>

	</div>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
		crossorigin="anonymous"></script>
	<script src="js/scripts.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
	<script src="assets/demo/chart-area-demo.js"></script>
	<script src="assets/demo/moving_people_chart.js"></script>
	<script src="assets/demo/expand_category_chart.js"></script>
	<script src="assets/demo/chart-bar-demo.js"></script>
	<script src="assets/demo/similar_store_chart.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/umd/simple-datatables.min.js"
		crossorigin="anonymous"></script>
	<script src="js/datatables-simple-demo.js"></script>
	<!--여기 까지가 헤더안에 있음-->

	<!-- JavaScript 코드 -->
	<script type="text/javascript"
		src="//dapi.kakao.com/v2/maps/sdk.js?appkey=4abdb80406262cf828aa65098fbf2578"></script>

	<!-- Bootstrap JS 및 기타 스크립트 -->
	<!-- Bootstrap JS -->
	<!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.0/js/bootstrap.bundle.min.js"></script> -->
	<!-- Font Awesome JS -->
	<!-- <script src="https://kit.fontawesome.com/a076d05399.js"></script> -->


	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script>
		// 지도에 폴리곤으로 표시할 영역데이터 배열입니다 


		/* 1. JSON 파일을 읽어들여 areas 배열을 채워넣는 작업 */
		var areas = []; // areas 변수를 먼저 정의합니다.
		// 1) getJSON도 ajax 메소드와 같이 async(비동기) 방식으로 동작하는데, 순차실행을 위해 이걸 강제로 sync 방식으로 동작하도록 함.
		$.ajaxSetup({
			async: false
		});

		$.getJSON("seoul_municipalities_geo_simple.json", function (geojson) {
			var units = geojson.features; // 파일에서 key값이 "features"인 것의 value를 통으로 가져옴(이것은 여러지역에 대한 정보를 모두 담고있음)	
			$.each(units, function (index, unit) { // 1개 지역씩 꺼내서 사용함. val은 그 1개 지역에 대한 정보를 담음

				var name = ''; // 지역 이름

				// areas = unit.geometry.coordinates; // 1개 지역의 영역을 구성하는 도형의 모든 좌표 배열을 가져옴 
				name = unit.properties.name; // 1개 지역의 이름을 가져옴

				var ob = new Object();
				ob.name = name;
				ob.path = [];

				$.each(unit.geometry.coordinates[0], function (index, coordinate) { //.geometry.coordinates[]로 한번 더 감싸져 있어서 index 0번의 것을 꺼내야 배열을 접근가능.
					ob.path.push(new kakao.maps.LatLng(coordinate[1], coordinate[0]));
				});

				areas[index] = ob;
				//console.log(areas[index])
			});//each
		});//getJSON


		/* 2. 지도 띄우기 */

		var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
			mapOption = {
				center: new kakao.maps.LatLng(37.566826, 126.9786567), // 지도의 중심좌표
				level: 9 // 지도의 확대 레벨
			};

		var map = new kakao.maps.Map(mapContainer, mapOption),
			customOverlay = new kakao.maps.CustomOverlay({}),
			infowindow = new kakao.maps.InfoWindow({removable: true});

		/* 3. 폴리곤 도형을 지도위에 띄우고 마우스 이벤트 붙이기 */

		// 지도에 영역데이터를 폴리곤으로 표시합니다 
		for (var i = 0, len = areas.length; i < len; i++) {
			displayArea(areas[i]);
		}


		// 다각형을 생상하고 이벤트를 등록하는 함수입니다
		function displayArea(area) {

			// 다각형을 생성합니다 
			var polygon = new kakao.maps.Polygon({
				map: map, // 다각형을 표시할 지도 객체
				path: area.path,
				strokeWeight: 2,
				strokeColor: '#004c80',
				strokeOpacity: 0.8,
				fillColor: '#fff',
				fillOpacity: 0.7
			});

			// 다각형에 mouseover 이벤트를 등록하고 이벤트가 발생하면 폴리곤의 채움색을 변경합니다 
			// 지역명을 표시하는 커스텀오버레이를 지도위에 표시합니다
			kakao.maps.event.addListener(polygon, 'mouseover', function (mouseEvent) {
				polygon.setOptions({fillColor: '#09f'});

				customOverlay.setContent('<div class="area">' + area.name + '</div>');

				customOverlay.setPosition(mouseEvent.latLng);
				customOverlay.setMap(map);
			});

			// 다각형에 mousemove 이벤트를 등록하고 이벤트가 발생하면 커스텀 오버레이의 위치를 변경합니다 
			kakao.maps.event.addListener(polygon, 'mousemove', function (mouseEvent) {

				customOverlay.setPosition(mouseEvent.latLng);
			});

			// 다각형에 mouseout 이벤트를 등록하고 이벤트가 발생하면 폴리곤의 채움색을 원래색으로 변경합니다
			// 커스텀 오버레이를 지도에서 제거합니다 
			kakao.maps.event.addListener(polygon, 'mouseout', function () {
				polygon.setOptions({fillColor: '#fff'});
				customOverlay.setMap(null);
			});

			kakao.maps.event.addListener(polygon, 'click', function (mouseEvent) {
				var content = '<div class="info">' +
					'   <div class="title">' + area.name + '</div>' +
					'   <div class="size">총 면적 : 약 ' + Math.floor(polygon.getArea()) + ' m<sup>2</sup></div>' +
					'</div>';
				document.getElementById('areaName').value = area.name;
				// let weekendPieChart = null;
				// let weekdayBarChart = null;
				// let weekendBarChart = null;        
				infowindow.setContent(content);
				infowindow.setPosition(mouseEvent.latLng);
				infowindow.setMap(map);
				var areaName = area.name;

				// fetch API를 사용하여 서버의 API를 호출
				fetch(`/api/region?category=${areaName}`, {
					method: 'POST',
					headers: {
						'Cookie': 'Set-Cookie=' + document.cookie // JWT 토큰을 쿠키로 전달
					}
				})
					.then(response => response.json())
					.then(data => {
						// 서버로부터 받은 데이터를 처리
						console.log('Received region:', data);
						// 받은 데이터를 해독하여 한글로 표시
						const form = document.getElementById('areaCategoryForm');

						// 기존에 있던 버튼을 모두 제거
						form.innerHTML = '';

						// 데이터를 이용하여 버튼을 생성하고 폼 안에 추가
						data.forEach(area => {
							const button = document.createElement('button');
							button.textContent = area;
							button.value = area; // 버튼의 값 설정
							button.type = 'button'; // 버튼의 타입을 명시적으로 지정
							button.addEventListener('click', function () {
								// 버튼 클릭 시의 동작을 정의할 수 있음
								document.getElementById('areaName').value = area;
								// 예를 들어, 해당 지역을 선택한 후의 동작을 여기에 정의할 수 있음

								console.log('Selected area:', area);
							});

							// 버튼을 폼에 추가
							form.appendChild(button);
						});
					})
					.catch(error => {
						console.error('Error fetching region:', error);
					});
			});
		}



	</script>

	<script>
		$(document).ready(function () {
			// 로그아웃 버튼 클릭 이벤트 처리
			$('#navdrop li #logout').click(function () {
				// 로그아웃 API 호출
				$.ajax({
					type: 'POST',
					url: 'http://localhost:8080/api/user/logout',
					success: function (response) {
						// 로그아웃 성공 시 작업
						console.log(response);
						alert('로그아웃되었습니다.');
						// 여기에 추가 작업을 할 수 있습니다. 예를 들어 로그인 페이지로 리디렉션 등
					},
					error: function (xhr, status, error) {
						// 로그아웃 실패 시 작업
						console.error('로그아웃 실패:', error);
						// 실패 메시지 표시 또는 다른 작업을 수행할 수 있습니다.
					}
				});
			});
		});

	</script>
	<!-- flask에서 업종리스트가져오기 -->

	<script>
		// 선택된 업종을 저장하는 변수
		let selectedCategories = [];
		// 현재 열려 있는 드롭다운의 아이디를 저장하는 변수
		let currentDropdown = null;

		function toggleDropdown(category, dropdownId) {
			const dropdown = document.getElementById(dropdownId);

			// 현재 열려 있는 드롭다운이 있으면 닫기
			if (currentDropdown !== null && currentDropdown !== dropdownId) {
				document.getElementById(currentDropdown).style.display = 'none';
			}

			// 현재 열려 있는 드롭다운 설정
			currentDropdown = dropdownId;

			// 드롭다운 토글
			if (dropdown.style.display === 'block') {
				dropdown.style.display = 'none';
			} else {
				fetch('/api/industry?category=' + encodeURIComponent(category), {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json'
					},
					body: JSON.stringify({
						category: category
					})
				})
					.then(response => response.json())
					.then(data => {
						dropdown.innerHTML = data.map(item => `<button type="button" class="btn btn-secondary" onclick="selectCategory('${item}')">${item}</button>`).join('');
						dropdown.style.display = 'block';
					})
					.catch(error => console.error('에러 발생:', error));
			}
			// 이미지 크기 변경을 막는 함수
			function disableImageResize() {
				const image = document.querySelector('#categoryDropdown1 img');
				image.style.width = '50%';
				image.style.marginTop = '-20px';
				image.style.marginBottom = '10px';
			}

			// 초기화 함수
			function init() {
				// 음식점 버튼에 이벤트 리스너 추가
				document.querySelector('#categoryDropdown1 button').addEventListener('click', function () {
					// 이미지 크기 변경을 막음
					disableImageResize();
				});
			}

			// DOM 로드 시 초기화 함수 호출
			document.addEventListener('DOMContentLoaded', init)
		}

		// 카테고리 선택 함수
		function selectCategory(category) {
			selectedCategories.push(category);
			document.getElementById('selectedCategory').value = selectedCategories.join(', ');
		}

		// 카테고리 선택 함수
		function selectCategory(category) {
			selectedCategories.push(category);
			document.getElementById('selectedCategory').value = selectedCategories.join(', ');
			// 선택된 업종을 input 요소에 저장
			document.getElementById('IndustryName').value = category;
		}

		// 기존 JavaScript 코드 블록

		// 선택된 업종을 저장하는 변수
		let selectedCategory = null;

		// 카테고리 선택 함수
		function selectCategory(category) {
			selectedCategory = category;
			document.getElementById('selectedCategory').value = selectedCategory;
			// 선택된 업종을 input 요소에 저장
			document.getElementById('IndustryName').value = selectedCategory;
			// 선택된 업종 초기화
			selectedCategories = [];
		}    
	</script>
	<!-- 통계 api호출 -->
	<script>
		var myChart; // 전역 변수로 Chart 객체 선언

		function submitForm() {
			const areaName = document.getElementById('areaName').value;
			const selectedCategory = document.getElementById('selectedCategory').value;
			const url = `/api/analysis?region=${encodeURIComponent(areaName)}&industry=${encodeURIComponent(selectedCategory)}`;
			// 선택 완료 버튼을 누르면 숨겨진 요소를 보이도록 설정
			var elementsToShow = document.querySelectorAll('.container.mt-5');
			elementsToShow.forEach(function (element) {
				element.style.display = 'block';
			});
			// Fetch API를 사용하여 데이터 가져오기
			fetch(url, {
				method: 'GET',
				headers: {
					'Content-Type': 'application/json'
				}
			})
				.then(response => {
					if (!response.ok) {
						throw new Error('서버 응답 오류');
					}
					return response.json(); // 서버 응답을 JSON 형식으로 변환
				})
				.then(data => {
					// industry_life 데이터 추출
					const industryLifeData = data.industry_life;

					// seoul_moving_people 데이터 추출
					const seoulMovingPeopleData = data.seoul_moving_people;
					const seoulSimilarStore = data.seoul_similar_store;
					const seoulUseMoney = data.seoul_use_money;
					const seoulZipgack = data.seoul_zipgack;
					drawChart(industryLifeData); // 데이터를 기반으로 그래프 그리기
					drawChart_moving(seoulMovingPeopleData);
					drawSimilarChart(seoulSimilarStore);
					const moneyRegion = seoulUseMoney['2023년 분기 평균 지출'];
					const moneyRegionSpan = document.getElementById('moneyRegionValue');
					// moneyRegion 값을 포맷팅하여 출력합니다.
					moneyRegionSpan.textContent = formatNumber(moneyRegion);
					// displayTotalPopulation(totalPopulation);
					const countZipgack = seoulZipgack['avg_diff'];
					const RegionZipgackDiffSpan = document.getElementById('avg_diff');
					//RegionZipgackDiffSpan.textContent=countZipgack;
					//gpt수정부
					if (countZipgack > 0) {
						RegionZipgackDiffSpan.textContent = `${countZipgack}% 만큼 더 많습니다.`;
						RegionZipgackDiffSpan.style.color = "red"; // 글씨가 빨간색으로 변경됩니다
					} else if (countZipgack < 0) {
						RegionZipgackDiffSpan.textContent = `${-countZipgack}% 만큼 더 적습니다.`;
						RegionZipgackDiffSpan.style.color = "blue"; // 글씨가 빨간색으로 변경됩니다
					} else {
						RegionZipgackDiffSpan.textContent = "같습니다.";
						RegionZipgackDiffSpan.style.color = "green"; // 글씨가 파란색으로 변경됩니다
					}
					// 지역이름 선언부
					const areaName = document.getElementById('areaName').value;
					const areaNameSpan = document.getElementById('areaNameSpan');
					areaNameSpan.textContent = areaName;
					const areaNameSpan1 = document.getElementById('areaNameSpan1');
					areaNameSpan1.textContent = areaName;
					const areaNameSpan2 = document.getElementById('areaNameSpan2');
					areaNameSpan2.textContent = areaName;


					const industryName1 = document.getElementById('selectedCategory').value;


					const industryNameSpan = document.getElementById('industryNameSpan');
					industryNameSpan.textContent = industryName1;

					const industryNameSpan2 = document.getElementById('industryNameSpan2');
					industryNameSpan2.textContent = industryName1;
					// 지출 순위
					const firstCategory = seoulUseMoney['1위카테고리'];
					const secondCategory = seoulUseMoney['2위카테고리'];
					const thirdCategory = seoulUseMoney['3위카테고리'];

					const rankingSpan = document.getElementById('rankingSpan');
					rankingSpan.innerHTML = `<br>1위: ${firstCategory}<br>2위: ${secondCategory}<br>3위: ${thirdCategory}<br>`;
				})
				.catch(error => {
					console.error('에러 발생:', error); // 오류 메시지 출력
				});
		}


	</script>
	<script>
		// 숫자 포맷팅 함수 정의 억 만단위 끊기
		function formatNumber(number) {
			if (number >= 1000000000000) {
				return `${Math.floor(number / 1000000000000)}조 ${Math.floor((number % 1000000000000) / 100000000)}억 ${Math.floor((number % 100000000) / 10000)}만`;
			}
			// 숫자가 억 이상일 경우
			else if (number >= 100000000) {
				return `${Math.floor(number / 100000000)}억 ${Math.floor((number % 100000000) / 10000)}만`;
			}
			// 숫자가 억 미만일 경우
			else {
				return `${Math.floor(number / 10000)}만`;
			}
		}
	</script>



	<!--가영누나 로직  -->
	<script>
		// 로그인 상태를 확인하는 함수
		function isLoggedIn() {
			// 클라이언트의 모든 쿠키를 가져옵니다.
			console.log('###########');
			const cookies = document.cookie.split(';');

			// 쿠키에서 로그인 상태를 나타내는 특정 쿠키를 찾습니다.
			for (let i = 0; i < cookies.length; i++) {
				const cookie = cookies[i].trim();
				if (cookie.startsWith("Set-Cookie")) {
					console.log(cookie)
					return true; // 로그인 상태
				}
			}
			return false; // 로그아웃 상태
		}

		// 로그아웃 함수
		function logout() {
			// 로그아웃 요청을 보내고, 성공시에만 링크를 변경합니다.
			fetch('/api/user/logout', {
				method: 'POST'
			}).then(function (response) {
				if (response.ok) {
					document.getElementById('logout').style.display = 'none'; // 로그아웃 링크 숨김
					document.getElementById('login').style.display = 'block'; // 로그인 링크 표시
				}
			});
		}
		document.addEventListener('DOMContentLoaded', function () {
			try {
				// 오류가 발생할 수 있는 코드
				console.log("#########");

				// isLoggedIn() 함수 호출
				if (isLoggedIn()) {
					document.getElementById('logout').style.display = 'block';
					document.getElementById('login').style.display = 'none';
				} else {
					document.getElementById('logout').style.display = 'none';
					document.getElementById('login').style.display = 'block';
				}
			} catch (error) {
				// 오류 발생 시 처리
				console.error("An error occurred:", error);
			}

			// 각 링크 요소 가져오기
			const mypageLink = document.querySelector('a[href="mypage_viewer"]');
			const seoulStatisticsLink = document.querySelector('a[data-bs-target="#collapseLayouts"]');
			const communityLink = document.querySelector('a[data-bs-target="#collapsePages"]');
			const inquiryLink = document.querySelector('a[href="charts.html"]');

			// 클릭 이벤트 핸들러 설정
			mypageLink.addEventListener('click', function (event) {
				// 로그인 상태를 확인하는 함수 호출
				if (!isLoggedIn()) {
					// 로그인 상태가 아닌 경우, 로그인 페이지로 이동
					alert('로그인해주세요.');
					window.location.href = 'login'; // 로그인 페이지 URL로 변경 필요
					event.preventDefault(); // 클릭 이벤트의 기본 동작을 막음 (링크 이동 취소)
				}
			});

			seoulStatisticsLink.addEventListener('click', function (event) {
				// 로그인 상태를 확인하는 함수 호출
				if (!isLoggedIn()) {
					// 로그인 상태가 아닌 경우, 로그인 페이지로 이동
					alert('로그인해주세요.');
					window.location.href = 'login'; // 로그인 페이지 URL로 변경 필요
					event.preventDefault(); // 클릭 이벤트의 기본 동작을 막음 (링크 이동 취소)
				}
			});

			communityLink.addEventListener('click', function (event) {
				// 로그인 상태를 확인하는 함수 호출
				if (!isLoggedIn()) {
					// 로그인 상태가 아닌 경우, 로그인 페이지로 이동
					alert('로그인해주세요.');
					window.location.href = 'login'; // 로그인 페이지 URL로 변경 필요
					event.preventDefault(); // 클릭 이벤트의 기본 동작을 막음 (링크 이동 취소)
				}
			});

			inquiryLink.addEventListener('click', function (event) {
				// 로그인 상태를 확인하는 함수 호출
				if (!isLoggedIn()) {
					// 로그인 상태가 아닌 경우, 로그인 페이지로 이동
					alert('로그인해주세요.');
					window.location.href = 'login'; // 로그인 페이지 URL로 변경 필요
					event.preventDefault(); // 클릭 이벤트의 기본 동작을 막음 (링크 이동 취소)
				}
			});
		});

	</script>


</body>

</html>"
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:366)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.example.demo.util.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2024-04-29 05:18:15.282 [http-nio-8080-exec-1] ERROR o.s.b.a.w.s.e.ErrorMvcAutoConfiguration$StaticView
				- Cannot render error page for request [/] and exception [An error happened during template parsing (template: "class path resource [templates/index.html]" - line 272, col 14)] as the response has already been committed. As a result, the response may have the wrong status code.
2024-04-29 05:18:17.315 [http-nio-8080-exec-5] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-5][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:18:17.317 [http-nio-8080-exec-5] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-5][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:18:17.328 [http-nio-8080-exec-5] ERROR org.thymeleaf.TemplateEngine
				- [THYMELEAF][http-nio-8080-exec-5] Exception processing template "index": An error happened during template parsing (template: "class path resource [templates/index.html]" - line 272, col 14)
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/index.html]" - line 272, col 14)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:239)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.example.demo.util.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.attoparser.ParseException: (Line = 272, Column = 14) Incomplete structure: "<div class="button-container" style="flex-grow: 1;"">
														<button type="button" class="btn btn-success"
															onclick="toggleDropdown('교육', 'categoryDropdown2')"	style="white-space: nowrap;">교육</button>
														<div id="categoryDropdown2" class="category-dropdown"
															style="display: none;">
															<!-- 교육 드롭다운 내용 -->
														</div>
													</div>
												</div>
												<!-- 교육 리스트 -->
												<div id="categoryList2" class="category-list"
													style="margin-bottom: 10px;">
												</div>
											</div>



											<div class="col-md-2">
												<div class="btn-container"
													style="margin-bottom: 10px;	 display: flex; flex-direction: row; align-items: center; align-items: flex-start;">

													<div class="image-container" style="width:100px;">

														<img th:src="@{/images/service.png}"
															style="width: 50%; height: auto;">
													</div>
													<div class="btn-container">
														<button type="button" class="btn btn-info"
															onclick="toggleDropdown('서비스', 'categoryDropdown3')">서비스</button>
														<div id="categoryDropdown3" class="category-dropdown"
															style="display: none;">
														</div> <!-- 서비스 드롭다운 -->
													</div>
												</div>
												<!-- 서비스 리스트 -->
												<div id="categoryList3" class="category-list"
													style="margin-bottom: 10px;">
												</div>
											</div>




											<div class="col-md-2">
												<div class="btn-container"
													style="margin-bottom: 10px; display: flex; flex-direction: row; align-items: center; align-items: flex-start;">

													<div class="image-container" style="width:100px;">

														<img th:src="@{/images/entertainment.png}"
															style="width: 50%; height: auto;">
													</div>
													<div class="btn-container">
														<button type="button" class="btn btn-warning"
															onclick="toggleDropdown('오락', 'categoryDropdown4')">오락</button>
														<div id="categoryDropdown4" class="category-dropdown"
															style="display: none;">
														</div> <!-- 오락 드롭다운 -->
													</div>
												</div>
												<!-- 오락 리스트 -->
												<div id="categoryList4" class="category-lit"
													style="margin-bottom: 10px;">
												</div>

											</div>


											<div class="col-md-2">
												<div class="btn-container"
													style="margin-bottom: 10px; display: flex; flex-direction: row; align-items: center; align-items: flex-start;">
													<div class="image-container" style="width:100px;">

														<img th:src="@{/images/retail.png}"
															style="width: 50%; height: auto;">
													</div>
													<div class="btn-container">

														<button type="button" class="btn btn-danger"
															onclick="toggleDropdown('소매', 'categoryDropdown5')">소매</button>
														<div id="categoryDropdown5" class="category-dropdown"
															style="display: none;">
														</div> <!-- 소매 드롭다운 -->
													</div>
												</div>
												<!-- 소매 리스트 -->
												<div id="categoryList5" class="category-list"
													style="margin-bottom: 10px;">
												</div>
											</div>

										</div>
									</div>
								</div>



								<!-- 지역 이름 -->
								<div style="display: flex; flex-direction: row; justify-content: center;">
									<label for="areaName" style="margin-right: 10px;">지역 이름:</label>
									<input type="text" id="areaName" name="areaName">
									<label for="IndustryName" style="margin-left: 20px; margin-right: 10px;">업종:</label>
									<input type="text" id="IndustryName" name="IndustryName">
								</div>
								<input type="hidden" id="selectedCategory" name="selectedCategory">

								<!-- 제출 버튼 -->

								<button id="submitButton" type="button" onclick="submitForm()"
									style="position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);">선택
									완료</button>
							</form>
						</div>


					</div>
				</div>

		</div>
	</div>
	`

	<!-- 카드 섹션 -->
	<div class="container mt-8">
		<div class="row justify-content-center">
			<div class="col-md-4">



				<!--<a class="btn btn-primary btn-sm custom-button stretched-link " href="buytoken">
											쿠폰 구매하기
											<i class="fas fa-shopping-cart ms-2"></i>
										</a>-->
				<button class="btn-3d blue" onclick="window.location.href='buytoken'">
					쿠폰 구매하기
					<i class="fas fa-shopping-cart ms-2"></i>
				</button>


			</div>
			<div class="col-md-4">
				<!--<div class="card mb-4 custom-card mt-4">

									<div class="card-footer bg-warning text-white border-0">
										<a class="btn btn-warning btn-sm custom-button stretched-link" href="consult">
											AI 맞춤 컨설팅 받기
											<i class="fas fa-comment-dots ms-2"></i>
										</a>
									</div>-->
				<button class="btn-3d yellow" onclick="window.location.href='consult'">
					AI 맞춤 컨설팅 받기
					<i class="fas fa-comment-dots ms-2"></i>
				</button>
				<!--</div>-->
			</div>
		</div>
	</div>


	<!-- 차트 섹션 -->
	<!-- 그래프를 그릴 Canvas 요소 -->
	<!-- 그래프를 그릴 Canvas 요소 -->
	<div class="container mt-5">

		<p class="fs-4">
			<span id="areaNameSpan" class="fw-bold"></span> 의 <span id="industryNameSpan" class="fw-bold"></span> 통계
			결과입니다
		</p>
		<hr> <!-- 밑줄 -->
		<!-- 2023년 분기 평균 지출과 최고지출 카테고리 top 3 -->
		<div class="row mt-3">
			<div class="col-xl-12 text-center">
				<div class="row">
					<div class="col-md-6">
						<div class="card mb-4">
							<div class="card-body">
								<p class="fs-4">
									<span id="areaNameSpan1" class="fw-bold"></span> 평균 분기별 총 지출은<br>
									<span id="moneyRegionValue" class="fw-bold"></span>원 입니다.
								</p>
								<p class="fs-6 text-muted">*2023년 기준입니다</p>
							</div>
						</div>

					</div>

					<div class="col-md-6">
						<div class="card mb-4">
							<div class="card-body">
								<p class="fs-4">2023년 <span id="areaNameSpan"></span> 지출 카테고리 순위는
									<span id="rankingSpan" class="fw-bold"></span> 입니다
								</p>
							</div>
						</div>
					</div>





				</div>
			</div>
		</div>

		<div class="col">
			<div class="row">
				<div class="col-md-6">
					<div class="card mb-4">
						<div class="card-body text-center">
							<p class="fs-4">2023년 <span id="areaNameSpan2" class="fw-bold"></span> <br>
								집객시설 갯수는
								인접 지역 보다 <br>
								<span id="avg_diff" class="fw-bold"></span>
							</p>
						</div>
					</div>
				</div>
				<div class="col-md-6">
					<div class="card mb-4">
						<div class="card-header">
							<h5 class="card-title"><i class="fas fa-chart-bar me-1"></i> 2023년 <span
									id="industryNameSpan2" class="fw-bold"></span> 유사업종 개수입니다</h5>
						</div>
						<div class="card-body">
							<canvas id="myBarChart" width="100%" height="40"></canvas>
						</div>
					</div>
				</div>
			</div>
			<div class="card mb-4">
				<div class="card-header">
					<h5 class="card-title"><i class="fas fa-chart-bar me-1"></i> 분기별 운영 기간</h5>
				</div>
				<div class="card-body">
					<canvas id="myAreaChart" width="100%" height="40"></canvas>
				</div>
			</div>
		</div>


		<div class="row mt-3">
			<div class="col-xl-12 text-center">
				<div class="row">
					<div class="col-md-6">
						<div class="card mb-4">
							<div class="card-body">
								<p class="fs-4"> 유동인구가 가장 많은 요일은 <span id="mostPopularDay" class="fw-bold"></span>입니다.
								</p>
								<p class="fs-6 text-muted">*2023년 기준입니다</p>
							</div>
						</div>
					</div>
					<div class="col-md-6">
						<div class="card mb-4">
							<div class="card-body">
								<p class="fs-4">일일평균 유동인구는 <span id="totalPopulation" class="fw-bold"></span>명 입니다
								</p>

							</div>
							<div class="card-body text-end">
								<p class="fs-6 text-muted">*2023년 기준입니다</p>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="row mt-5">
				<div class="col-xl-4">
					<div class="card mb-4">
						<canvas id="movingPeopleChart" width="100%" height="60"></canvas>
					</div>
				</div>
				<div class="col-xl-4">
					<div class="card mb-4">
						<canvas id="movingPeopleChart3" width="100%" height="60"></canvas>
					</div>
				</div>
				<div class="col-xl-4">
					<div class="card mb-4">
						<canvas id="movingPeopleChart2" width="100%" height="60"></canvas>
					</div>
				</div>
			</div>

		</div>


		</main>
		<footer class="py-4 bg-light mt-auto">
			<div class="container-fluid px-4">
				<div class="d-flex align-items-center justify-content-between small">
					<div class="text-muted">Copyright &copy; Your Website 2023</div>
					<div>
						<a href="#">Privacy Policy</a>
						&middot;
						<a href="#">Terms &amp; Conditions</a>
					</div>
				</div>
			</div>
		</footer>
	</div>

	</div>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
		crossorigin="anonymous"></script>
	<script src="js/scripts.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
	<script src="assets/demo/chart-area-demo.js"></script>
	<script src="assets/demo/moving_people_chart.js"></script>
	<script src="assets/demo/expand_category_chart.js"></script>
	<script src="assets/demo/chart-bar-demo.js"></script>
	<script src="assets/demo/similar_store_chart.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/umd/simple-datatables.min.js"
		crossorigin="anonymous"></script>
	<script src="js/datatables-simple-demo.js"></script>
	<!--여기 까지가 헤더안에 있음-->

	<!-- JavaScript 코드 -->
	<script type="text/javascript"
		src="//dapi.kakao.com/v2/maps/sdk.js?appkey=4abdb80406262cf828aa65098fbf2578"></script>

	<!-- Bootstrap JS 및 기타 스크립트 -->
	<!-- Bootstrap JS -->
	<!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.0/js/bootstrap.bundle.min.js"></script> -->
	<!-- Font Awesome JS -->
	<!-- <script src="https://kit.fontawesome.com/a076d05399.js"></script> -->


	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script>
		// 지도에 폴리곤으로 표시할 영역데이터 배열입니다 


		/* 1. JSON 파일을 읽어들여 areas 배열을 채워넣는 작업 */
		var areas = []; // areas 변수를 먼저 정의합니다.
		// 1) getJSON도 ajax 메소드와 같이 async(비동기) 방식으로 동작하는데, 순차실행을 위해 이걸 강제로 sync 방식으로 동작하도록 함.
		$.ajaxSetup({
			async: false
		});

		$.getJSON("seoul_municipalities_geo_simple.json", function (geojson) {
			var units = geojson.features; // 파일에서 key값이 "features"인 것의 value를 통으로 가져옴(이것은 여러지역에 대한 정보를 모두 담고있음)	
			$.each(units, function (index, unit) { // 1개 지역씩 꺼내서 사용함. val은 그 1개 지역에 대한 정보를 담음

				var name = ''; // 지역 이름

				// areas = unit.geometry.coordinates; // 1개 지역의 영역을 구성하는 도형의 모든 좌표 배열을 가져옴 
				name = unit.properties.name; // 1개 지역의 이름을 가져옴

				var ob = new Object();
				ob.name = name;
				ob.path = [];

				$.each(unit.geometry.coordinates[0], function (index, coordinate) { //.geometry.coordinates[]로 한번 더 감싸져 있어서 index 0번의 것을 꺼내야 배열을 접근가능.
					ob.path.push(new kakao.maps.LatLng(coordinate[1], coordinate[0]));
				});

				areas[index] = ob;
				//console.log(areas[index])
			});//each
		});//getJSON


		/* 2. 지도 띄우기 */

		var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
			mapOption = {
				center: new kakao.maps.LatLng(37.566826, 126.9786567), // 지도의 중심좌표
				level: 9 // 지도의 확대 레벨
			};

		var map = new kakao.maps.Map(mapContainer, mapOption),
			customOverlay = new kakao.maps.CustomOverlay({}),
			infowindow = new kakao.maps.InfoWindow({removable: true});

		/* 3. 폴리곤 도형을 지도위에 띄우고 마우스 이벤트 붙이기 */

		// 지도에 영역데이터를 폴리곤으로 표시합니다 
		for (var i = 0, len = areas.length; i < len; i++) {
			displayArea(areas[i]);
		}


		// 다각형을 생상하고 이벤트를 등록하는 함수입니다
		function displayArea(area) {

			// 다각형을 생성합니다 
			var polygon = new kakao.maps.Polygon({
				map: map, // 다각형을 표시할 지도 객체
				path: area.path,
				strokeWeight: 2,
				strokeColor: '#004c80',
				strokeOpacity: 0.8,
				fillColor: '#fff',
				fillOpacity: 0.7
			});

			// 다각형에 mouseover 이벤트를 등록하고 이벤트가 발생하면 폴리곤의 채움색을 변경합니다 
			// 지역명을 표시하는 커스텀오버레이를 지도위에 표시합니다
			kakao.maps.event.addListener(polygon, 'mouseover', function (mouseEvent) {
				polygon.setOptions({fillColor: '#09f'});

				customOverlay.setContent('<div class="area">' + area.name + '</div>');

				customOverlay.setPosition(mouseEvent.latLng);
				customOverlay.setMap(map);
			});

			// 다각형에 mousemove 이벤트를 등록하고 이벤트가 발생하면 커스텀 오버레이의 위치를 변경합니다 
			kakao.maps.event.addListener(polygon, 'mousemove', function (mouseEvent) {

				customOverlay.setPosition(mouseEvent.latLng);
			});

			// 다각형에 mouseout 이벤트를 등록하고 이벤트가 발생하면 폴리곤의 채움색을 원래색으로 변경합니다
			// 커스텀 오버레이를 지도에서 제거합니다 
			kakao.maps.event.addListener(polygon, 'mouseout', function () {
				polygon.setOptions({fillColor: '#fff'});
				customOverlay.setMap(null);
			});

			kakao.maps.event.addListener(polygon, 'click', function (mouseEvent) {
				var content = '<div class="info">' +
					'   <div class="title">' + area.name + '</div>' +
					'   <div class="size">총 면적 : 약 ' + Math.floor(polygon.getArea()) + ' m<sup>2</sup></div>' +
					'</div>';
				document.getElementById('areaName').value = area.name;
				// let weekendPieChart = null;
				// let weekdayBarChart = null;
				// let weekendBarChart = null;        
				infowindow.setContent(content);
				infowindow.setPosition(mouseEvent.latLng);
				infowindow.setMap(map);
				var areaName = area.name;

				// fetch API를 사용하여 서버의 API를 호출
				fetch(`/api/region?category=${areaName}`, {
					method: 'POST',
					headers: {
						'Cookie': 'Set-Cookie=' + document.cookie // JWT 토큰을 쿠키로 전달
					}
				})
					.then(response => response.json())
					.then(data => {
						// 서버로부터 받은 데이터를 처리
						console.log('Received region:', data);
						// 받은 데이터를 해독하여 한글로 표시
						const form = document.getElementById('areaCategoryForm');

						// 기존에 있던 버튼을 모두 제거
						form.innerHTML = '';

						// 데이터를 이용하여 버튼을 생성하고 폼 안에 추가
						data.forEach(area => {
							const button = document.createElement('button');
							button.textContent = area;
							button.value = area; // 버튼의 값 설정
							button.type = 'button'; // 버튼의 타입을 명시적으로 지정
							button.addEventListener('click', function () {
								// 버튼 클릭 시의 동작을 정의할 수 있음
								document.getElementById('areaName').value = area;
								// 예를 들어, 해당 지역을 선택한 후의 동작을 여기에 정의할 수 있음

								console.log('Selected area:', area);
							});

							// 버튼을 폼에 추가
							form.appendChild(button);
						});
					})
					.catch(error => {
						console.error('Error fetching region:', error);
					});
			});
		}



	</script>

	<script>
		$(document).ready(function () {
			// 로그아웃 버튼 클릭 이벤트 처리
			$('#navdrop li #logout').click(function () {
				// 로그아웃 API 호출
				$.ajax({
					type: 'POST',
					url: 'http://localhost:8080/api/user/logout',
					success: function (response) {
						// 로그아웃 성공 시 작업
						console.log(response);
						alert('로그아웃되었습니다.');
						// 여기에 추가 작업을 할 수 있습니다. 예를 들어 로그인 페이지로 리디렉션 등
					},
					error: function (xhr, status, error) {
						// 로그아웃 실패 시 작업
						console.error('로그아웃 실패:', error);
						// 실패 메시지 표시 또는 다른 작업을 수행할 수 있습니다.
					}
				});
			});
		});

	</script>
	<!-- flask에서 업종리스트가져오기 -->

	<script>
		// 선택된 업종을 저장하는 변수
		let selectedCategories = [];
		// 현재 열려 있는 드롭다운의 아이디를 저장하는 변수
		let currentDropdown = null;

		function toggleDropdown(category, dropdownId) {
			const dropdown = document.getElementById(dropdownId);

			// 현재 열려 있는 드롭다운이 있으면 닫기
			if (currentDropdown !== null && currentDropdown !== dropdownId) {
				document.getElementById(currentDropdown).style.display = 'none';
			}

			// 현재 열려 있는 드롭다운 설정
			currentDropdown = dropdownId;

			// 드롭다운 토글
			if (dropdown.style.display === 'block') {
				dropdown.style.display = 'none';
			} else {
				fetch('/api/industry?category=' + encodeURIComponent(category), {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json'
					},
					body: JSON.stringify({
						category: category
					})
				})
					.then(response => response.json())
					.then(data => {
						dropdown.innerHTML = data.map(item => `<button type="button" class="btn btn-secondary" onclick="selectCategory('${item}')">${item}</button>`).join('');
						dropdown.style.display = 'block';
					})
					.catch(error => console.error('에러 발생:', error));
			}
			// 이미지 크기 변경을 막는 함수
			function disableImageResize() {
				const image = document.querySelector('#categoryDropdown1 img');
				image.style.width = '50%';
				image.style.marginTop = '-20px';
				image.style.marginBottom = '10px';
			}

			// 초기화 함수
			function init() {
				// 음식점 버튼에 이벤트 리스너 추가
				document.querySelector('#categoryDropdown1 button').addEventListener('click', function () {
					// 이미지 크기 변경을 막음
					disableImageResize();
				});
			}

			// DOM 로드 시 초기화 함수 호출
			document.addEventListener('DOMContentLoaded', init)
		}

		// 카테고리 선택 함수
		function selectCategory(category) {
			selectedCategories.push(category);
			document.getElementById('selectedCategory').value = selectedCategories.join(', ');
		}

		// 카테고리 선택 함수
		function selectCategory(category) {
			selectedCategories.push(category);
			document.getElementById('selectedCategory').value = selectedCategories.join(', ');
			// 선택된 업종을 input 요소에 저장
			document.getElementById('IndustryName').value = category;
		}

		// 기존 JavaScript 코드 블록

		// 선택된 업종을 저장하는 변수
		let selectedCategory = null;

		// 카테고리 선택 함수
		function selectCategory(category) {
			selectedCategory = category;
			document.getElementById('selectedCategory').value = selectedCategory;
			// 선택된 업종을 input 요소에 저장
			document.getElementById('IndustryName').value = selectedCategory;
			// 선택된 업종 초기화
			selectedCategories = [];
		}    
	</script>
	<!-- 통계 api호출 -->
	<script>
		var myChart; // 전역 변수로 Chart 객체 선언

		function submitForm() {
			const areaName = document.getElementById('areaName').value;
			const selectedCategory = document.getElementById('selectedCategory').value;
			const url = `/api/analysis?region=${encodeURIComponent(areaName)}&industry=${encodeURIComponent(selectedCategory)}`;
			// 선택 완료 버튼을 누르면 숨겨진 요소를 보이도록 설정
			var elementsToShow = document.querySelectorAll('.container.mt-5');
			elementsToShow.forEach(function (element) {
				element.style.display = 'block';
			});
			// Fetch API를 사용하여 데이터 가져오기
			fetch(url, {
				method: 'GET',
				headers: {
					'Content-Type': 'application/json'
				}
			})
				.then(response => {
					if (!response.ok) {
						throw new Error('서버 응답 오류');
					}
					return response.json(); // 서버 응답을 JSON 형식으로 변환
				})
				.then(data => {
					// industry_life 데이터 추출
					const industryLifeData = data.industry_life;

					// seoul_moving_people 데이터 추출
					const seoulMovingPeopleData = data.seoul_moving_people;
					const seoulSimilarStore = data.seoul_similar_store;
					const seoulUseMoney = data.seoul_use_money;
					const seoulZipgack = data.seoul_zipgack;
					drawChart(industryLifeData); // 데이터를 기반으로 그래프 그리기
					drawChart_moving(seoulMovingPeopleData);
					drawSimilarChart(seoulSimilarStore);
					const moneyRegion = seoulUseMoney['2023년 분기 평균 지출'];
					const moneyRegionSpan = document.getElementById('moneyRegionValue');
					// moneyRegion 값을 포맷팅하여 출력합니다.
					moneyRegionSpan.textContent = formatNumber(moneyRegion);
					// displayTotalPopulation(totalPopulation);
					const countZipgack = seoulZipgack['avg_diff'];
					const RegionZipgackDiffSpan = document.getElementById('avg_diff');
					//RegionZipgackDiffSpan.textContent=countZipgack;
					//gpt수정부
					if (countZipgack > 0) {
						RegionZipgackDiffSpan.textContent = `${countZipgack}% 만큼 더 많습니다.`;
						RegionZipgackDiffSpan.style.color = "red"; // 글씨가 빨간색으로 변경됩니다
					} else if (countZipgack < 0) {
						RegionZipgackDiffSpan.textContent = `${-countZipgack}% 만큼 더 적습니다.`;
						RegionZipgackDiffSpan.style.color = "blue"; // 글씨가 빨간색으로 변경됩니다
					} else {
						RegionZipgackDiffSpan.textContent = "같습니다.";
						RegionZipgackDiffSpan.style.color = "green"; // 글씨가 파란색으로 변경됩니다
					}
					// 지역이름 선언부
					const areaName = document.getElementById('areaName').value;
					const areaNameSpan = document.getElementById('areaNameSpan');
					areaNameSpan.textContent = areaName;
					const areaNameSpan1 = document.getElementById('areaNameSpan1');
					areaNameSpan1.textContent = areaName;
					const areaNameSpan2 = document.getElementById('areaNameSpan2');
					areaNameSpan2.textContent = areaName;


					const industryName1 = document.getElementById('selectedCategory').value;


					const industryNameSpan = document.getElementById('industryNameSpan');
					industryNameSpan.textContent = industryName1;

					const industryNameSpan2 = document.getElementById('industryNameSpan2');
					industryNameSpan2.textContent = industryName1;
					// 지출 순위
					const firstCategory = seoulUseMoney['1위카테고리'];
					const secondCategory = seoulUseMoney['2위카테고리'];
					const thirdCategory = seoulUseMoney['3위카테고리'];

					const rankingSpan = document.getElementById('rankingSpan');
					rankingSpan.innerHTML = `<br>1위: ${firstCategory}<br>2위: ${secondCategory}<br>3위: ${thirdCategory}<br>`;
				})
				.catch(error => {
					console.error('에러 발생:', error); // 오류 메시지 출력
				});
		}


	</script>
	<script>
		// 숫자 포맷팅 함수 정의 억 만단위 끊기
		function formatNumber(number) {
			if (number >= 1000000000000) {
				return `${Math.floor(number / 1000000000000)}조 ${Math.floor((number % 1000000000000) / 100000000)}억 ${Math.floor((number % 100000000) / 10000)}만`;
			}
			// 숫자가 억 이상일 경우
			else if (number >= 100000000) {
				return `${Math.floor(number / 100000000)}억 ${Math.floor((number % 100000000) / 10000)}만`;
			}
			// 숫자가 억 미만일 경우
			else {
				return `${Math.floor(number / 10000)}만`;
			}
		}
	</script>



	<!--가영누나 로직  -->
	<script>
		// 로그인 상태를 확인하는 함수
		function isLoggedIn() {
			// 클라이언트의 모든 쿠키를 가져옵니다.
			console.log('###########');
			const cookies = document.cookie.split(';');

			// 쿠키에서 로그인 상태를 나타내는 특정 쿠키를 찾습니다.
			for (let i = 0; i < cookies.length; i++) {
				const cookie = cookies[i].trim();
				if (cookie.startsWith("Set-Cookie")) {
					console.log(cookie)
					return true; // 로그인 상태
				}
			}
			return false; // 로그아웃 상태
		}

		// 로그아웃 함수
		function logout() {
			// 로그아웃 요청을 보내고, 성공시에만 링크를 변경합니다.
			fetch('/api/user/logout', {
				method: 'POST'
			}).then(function (response) {
				if (response.ok) {
					document.getElementById('logout').style.display = 'none'; // 로그아웃 링크 숨김
					document.getElementById('login').style.display = 'block'; // 로그인 링크 표시
				}
			});
		}
		document.addEventListener('DOMContentLoaded', function () {
			try {
				// 오류가 발생할 수 있는 코드
				console.log("#########");

				// isLoggedIn() 함수 호출
				if (isLoggedIn()) {
					document.getElementById('logout').style.display = 'block';
					document.getElementById('login').style.display = 'none';
				} else {
					document.getElementById('logout').style.display = 'none';
					document.getElementById('login').style.display = 'block';
				}
			} catch (error) {
				// 오류 발생 시 처리
				console.error("An error occurred:", error);
			}

			// 각 링크 요소 가져오기
			const mypageLink = document.querySelector('a[href="mypage_viewer"]');
			const seoulStatisticsLink = document.querySelector('a[data-bs-target="#collapseLayouts"]');
			const communityLink = document.querySelector('a[data-bs-target="#collapsePages"]');
			const inquiryLink = document.querySelector('a[href="charts.html"]');

			// 클릭 이벤트 핸들러 설정
			mypageLink.addEventListener('click', function (event) {
				// 로그인 상태를 확인하는 함수 호출
				if (!isLoggedIn()) {
					// 로그인 상태가 아닌 경우, 로그인 페이지로 이동
					alert('로그인해주세요.');
					window.location.href = 'login'; // 로그인 페이지 URL로 변경 필요
					event.preventDefault(); // 클릭 이벤트의 기본 동작을 막음 (링크 이동 취소)
				}
			});

			seoulStatisticsLink.addEventListener('click', function (event) {
				// 로그인 상태를 확인하는 함수 호출
				if (!isLoggedIn()) {
					// 로그인 상태가 아닌 경우, 로그인 페이지로 이동
					alert('로그인해주세요.');
					window.location.href = 'login'; // 로그인 페이지 URL로 변경 필요
					event.preventDefault(); // 클릭 이벤트의 기본 동작을 막음 (링크 이동 취소)
				}
			});

			communityLink.addEventListener('click', function (event) {
				// 로그인 상태를 확인하는 함수 호출
				if (!isLoggedIn()) {
					// 로그인 상태가 아닌 경우, 로그인 페이지로 이동
					alert('로그인해주세요.');
					window.location.href = 'login'; // 로그인 페이지 URL로 변경 필요
					event.preventDefault(); // 클릭 이벤트의 기본 동작을 막음 (링크 이동 취소)
				}
			});

			inquiryLink.addEventListener('click', function (event) {
				// 로그인 상태를 확인하는 함수 호출
				if (!isLoggedIn()) {
					// 로그인 상태가 아닌 경우, 로그인 페이지로 이동
					alert('로그인해주세요.');
					window.location.href = 'login'; // 로그인 페이지 URL로 변경 필요
					event.preventDefault(); // 클릭 이벤트의 기본 동작을 막음 (링크 이동 취소)
				}
			});
		});

	</script>


</body>

</html>"
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:366)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 135 common frames omitted
2024-04-29 05:18:17.345 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet]
				- Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/index.html]" - line 272, col 14)] with root cause
org.attoparser.ParseException: (Line = 272, Column = 14) Incomplete structure: "<div class="button-container" style="flex-grow: 1;"">
														<button type="button" class="btn btn-success"
															onclick="toggleDropdown('교육', 'categoryDropdown2')"	style="white-space: nowrap;">교육</button>
														<div id="categoryDropdown2" class="category-dropdown"
															style="display: none;">
															<!-- 교육 드롭다운 내용 -->
														</div>
													</div>
												</div>
												<!-- 교육 리스트 -->
												<div id="categoryList2" class="category-list"
													style="margin-bottom: 10px;">
												</div>
											</div>



											<div class="col-md-2">
												<div class="btn-container"
													style="margin-bottom: 10px;	 display: flex; flex-direction: row; align-items: center; align-items: flex-start;">

													<div class="image-container" style="width:100px;">

														<img th:src="@{/images/service.png}"
															style="width: 50%; height: auto;">
													</div>
													<div class="btn-container">
														<button type="button" class="btn btn-info"
															onclick="toggleDropdown('서비스', 'categoryDropdown3')">서비스</button>
														<div id="categoryDropdown3" class="category-dropdown"
															style="display: none;">
														</div> <!-- 서비스 드롭다운 -->
													</div>
												</div>
												<!-- 서비스 리스트 -->
												<div id="categoryList3" class="category-list"
													style="margin-bottom: 10px;">
												</div>
											</div>




											<div class="col-md-2">
												<div class="btn-container"
													style="margin-bottom: 10px; display: flex; flex-direction: row; align-items: center; align-items: flex-start;">

													<div class="image-container" style="width:100px;">

														<img th:src="@{/images/entertainment.png}"
															style="width: 50%; height: auto;">
													</div>
													<div class="btn-container">
														<button type="button" class="btn btn-warning"
															onclick="toggleDropdown('오락', 'categoryDropdown4')">오락</button>
														<div id="categoryDropdown4" class="category-dropdown"
															style="display: none;">
														</div> <!-- 오락 드롭다운 -->
													</div>
												</div>
												<!-- 오락 리스트 -->
												<div id="categoryList4" class="category-lit"
													style="margin-bottom: 10px;">
												</div>

											</div>


											<div class="col-md-2">
												<div class="btn-container"
													style="margin-bottom: 10px; display: flex; flex-direction: row; align-items: center; align-items: flex-start;">
													<div class="image-container" style="width:100px;">

														<img th:src="@{/images/retail.png}"
															style="width: 50%; height: auto;">
													</div>
													<div class="btn-container">

														<button type="button" class="btn btn-danger"
															onclick="toggleDropdown('소매', 'categoryDropdown5')">소매</button>
														<div id="categoryDropdown5" class="category-dropdown"
															style="display: none;">
														</div> <!-- 소매 드롭다운 -->
													</div>
												</div>
												<!-- 소매 리스트 -->
												<div id="categoryList5" class="category-list"
													style="margin-bottom: 10px;">
												</div>
											</div>

										</div>
									</div>
								</div>



								<!-- 지역 이름 -->
								<div style="display: flex; flex-direction: row; justify-content: center;">
									<label for="areaName" style="margin-right: 10px;">지역 이름:</label>
									<input type="text" id="areaName" name="areaName">
									<label for="IndustryName" style="margin-left: 20px; margin-right: 10px;">업종:</label>
									<input type="text" id="IndustryName" name="IndustryName">
								</div>
								<input type="hidden" id="selectedCategory" name="selectedCategory">

								<!-- 제출 버튼 -->

								<button id="submitButton" type="button" onclick="submitForm()"
									style="position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);">선택
									완료</button>
							</form>
						</div>


					</div>
				</div>

		</div>
	</div>
	`

	<!-- 카드 섹션 -->
	<div class="container mt-8">
		<div class="row justify-content-center">
			<div class="col-md-4">



				<!--<a class="btn btn-primary btn-sm custom-button stretched-link " href="buytoken">
											쿠폰 구매하기
											<i class="fas fa-shopping-cart ms-2"></i>
										</a>-->
				<button class="btn-3d blue" onclick="window.location.href='buytoken'">
					쿠폰 구매하기
					<i class="fas fa-shopping-cart ms-2"></i>
				</button>


			</div>
			<div class="col-md-4">
				<!--<div class="card mb-4 custom-card mt-4">

									<div class="card-footer bg-warning text-white border-0">
										<a class="btn btn-warning btn-sm custom-button stretched-link" href="consult">
											AI 맞춤 컨설팅 받기
											<i class="fas fa-comment-dots ms-2"></i>
										</a>
									</div>-->
				<button class="btn-3d yellow" onclick="window.location.href='consult'">
					AI 맞춤 컨설팅 받기
					<i class="fas fa-comment-dots ms-2"></i>
				</button>
				<!--</div>-->
			</div>
		</div>
	</div>


	<!-- 차트 섹션 -->
	<!-- 그래프를 그릴 Canvas 요소 -->
	<!-- 그래프를 그릴 Canvas 요소 -->
	<div class="container mt-5">

		<p class="fs-4">
			<span id="areaNameSpan" class="fw-bold"></span> 의 <span id="industryNameSpan" class="fw-bold"></span> 통계
			결과입니다
		</p>
		<hr> <!-- 밑줄 -->
		<!-- 2023년 분기 평균 지출과 최고지출 카테고리 top 3 -->
		<div class="row mt-3">
			<div class="col-xl-12 text-center">
				<div class="row">
					<div class="col-md-6">
						<div class="card mb-4">
							<div class="card-body">
								<p class="fs-4">
									<span id="areaNameSpan1" class="fw-bold"></span> 평균 분기별 총 지출은<br>
									<span id="moneyRegionValue" class="fw-bold"></span>원 입니다.
								</p>
								<p class="fs-6 text-muted">*2023년 기준입니다</p>
							</div>
						</div>

					</div>

					<div class="col-md-6">
						<div class="card mb-4">
							<div class="card-body">
								<p class="fs-4">2023년 <span id="areaNameSpan"></span> 지출 카테고리 순위는
									<span id="rankingSpan" class="fw-bold"></span> 입니다
								</p>
							</div>
						</div>
					</div>





				</div>
			</div>
		</div>

		<div class="col">
			<div class="row">
				<div class="col-md-6">
					<div class="card mb-4">
						<div class="card-body text-center">
							<p class="fs-4">2023년 <span id="areaNameSpan2" class="fw-bold"></span> <br>
								집객시설 갯수는
								인접 지역 보다 <br>
								<span id="avg_diff" class="fw-bold"></span>
							</p>
						</div>
					</div>
				</div>
				<div class="col-md-6">
					<div class="card mb-4">
						<div class="card-header">
							<h5 class="card-title"><i class="fas fa-chart-bar me-1"></i> 2023년 <span
									id="industryNameSpan2" class="fw-bold"></span> 유사업종 개수입니다</h5>
						</div>
						<div class="card-body">
							<canvas id="myBarChart" width="100%" height="40"></canvas>
						</div>
					</div>
				</div>
			</div>
			<div class="card mb-4">
				<div class="card-header">
					<h5 class="card-title"><i class="fas fa-chart-bar me-1"></i> 분기별 운영 기간</h5>
				</div>
				<div class="card-body">
					<canvas id="myAreaChart" width="100%" height="40"></canvas>
				</div>
			</div>
		</div>


		<div class="row mt-3">
			<div class="col-xl-12 text-center">
				<div class="row">
					<div class="col-md-6">
						<div class="card mb-4">
							<div class="card-body">
								<p class="fs-4"> 유동인구가 가장 많은 요일은 <span id="mostPopularDay" class="fw-bold"></span>입니다.
								</p>
								<p class="fs-6 text-muted">*2023년 기준입니다</p>
							</div>
						</div>
					</div>
					<div class="col-md-6">
						<div class="card mb-4">
							<div class="card-body">
								<p class="fs-4">일일평균 유동인구는 <span id="totalPopulation" class="fw-bold"></span>명 입니다
								</p>

							</div>
							<div class="card-body text-end">
								<p class="fs-6 text-muted">*2023년 기준입니다</p>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="row mt-5">
				<div class="col-xl-4">
					<div class="card mb-4">
						<canvas id="movingPeopleChart" width="100%" height="60"></canvas>
					</div>
				</div>
				<div class="col-xl-4">
					<div class="card mb-4">
						<canvas id="movingPeopleChart3" width="100%" height="60"></canvas>
					</div>
				</div>
				<div class="col-xl-4">
					<div class="card mb-4">
						<canvas id="movingPeopleChart2" width="100%" height="60"></canvas>
					</div>
				</div>
			</div>

		</div>


		</main>
		<footer class="py-4 bg-light mt-auto">
			<div class="container-fluid px-4">
				<div class="d-flex align-items-center justify-content-between small">
					<div class="text-muted">Copyright &copy; Your Website 2023</div>
					<div>
						<a href="#">Privacy Policy</a>
						&middot;
						<a href="#">Terms &amp; Conditions</a>
					</div>
				</div>
			</div>
		</footer>
	</div>

	</div>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
		crossorigin="anonymous"></script>
	<script src="js/scripts.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
	<script src="assets/demo/chart-area-demo.js"></script>
	<script src="assets/demo/moving_people_chart.js"></script>
	<script src="assets/demo/expand_category_chart.js"></script>
	<script src="assets/demo/chart-bar-demo.js"></script>
	<script src="assets/demo/similar_store_chart.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/umd/simple-datatables.min.js"
		crossorigin="anonymous"></script>
	<script src="js/datatables-simple-demo.js"></script>
	<!--여기 까지가 헤더안에 있음-->

	<!-- JavaScript 코드 -->
	<script type="text/javascript"
		src="//dapi.kakao.com/v2/maps/sdk.js?appkey=4abdb80406262cf828aa65098fbf2578"></script>

	<!-- Bootstrap JS 및 기타 스크립트 -->
	<!-- Bootstrap JS -->
	<!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.0/js/bootstrap.bundle.min.js"></script> -->
	<!-- Font Awesome JS -->
	<!-- <script src="https://kit.fontawesome.com/a076d05399.js"></script> -->


	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script>
		// 지도에 폴리곤으로 표시할 영역데이터 배열입니다 


		/* 1. JSON 파일을 읽어들여 areas 배열을 채워넣는 작업 */
		var areas = []; // areas 변수를 먼저 정의합니다.
		// 1) getJSON도 ajax 메소드와 같이 async(비동기) 방식으로 동작하는데, 순차실행을 위해 이걸 강제로 sync 방식으로 동작하도록 함.
		$.ajaxSetup({
			async: false
		});

		$.getJSON("seoul_municipalities_geo_simple.json", function (geojson) {
			var units = geojson.features; // 파일에서 key값이 "features"인 것의 value를 통으로 가져옴(이것은 여러지역에 대한 정보를 모두 담고있음)	
			$.each(units, function (index, unit) { // 1개 지역씩 꺼내서 사용함. val은 그 1개 지역에 대한 정보를 담음

				var name = ''; // 지역 이름

				// areas = unit.geometry.coordinates; // 1개 지역의 영역을 구성하는 도형의 모든 좌표 배열을 가져옴 
				name = unit.properties.name; // 1개 지역의 이름을 가져옴

				var ob = new Object();
				ob.name = name;
				ob.path = [];

				$.each(unit.geometry.coordinates[0], function (index, coordinate) { //.geometry.coordinates[]로 한번 더 감싸져 있어서 index 0번의 것을 꺼내야 배열을 접근가능.
					ob.path.push(new kakao.maps.LatLng(coordinate[1], coordinate[0]));
				});

				areas[index] = ob;
				//console.log(areas[index])
			});//each
		});//getJSON


		/* 2. 지도 띄우기 */

		var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
			mapOption = {
				center: new kakao.maps.LatLng(37.566826, 126.9786567), // 지도의 중심좌표
				level: 9 // 지도의 확대 레벨
			};

		var map = new kakao.maps.Map(mapContainer, mapOption),
			customOverlay = new kakao.maps.CustomOverlay({}),
			infowindow = new kakao.maps.InfoWindow({removable: true});

		/* 3. 폴리곤 도형을 지도위에 띄우고 마우스 이벤트 붙이기 */

		// 지도에 영역데이터를 폴리곤으로 표시합니다 
		for (var i = 0, len = areas.length; i < len; i++) {
			displayArea(areas[i]);
		}


		// 다각형을 생상하고 이벤트를 등록하는 함수입니다
		function displayArea(area) {

			// 다각형을 생성합니다 
			var polygon = new kakao.maps.Polygon({
				map: map, // 다각형을 표시할 지도 객체
				path: area.path,
				strokeWeight: 2,
				strokeColor: '#004c80',
				strokeOpacity: 0.8,
				fillColor: '#fff',
				fillOpacity: 0.7
			});

			// 다각형에 mouseover 이벤트를 등록하고 이벤트가 발생하면 폴리곤의 채움색을 변경합니다 
			// 지역명을 표시하는 커스텀오버레이를 지도위에 표시합니다
			kakao.maps.event.addListener(polygon, 'mouseover', function (mouseEvent) {
				polygon.setOptions({fillColor: '#09f'});

				customOverlay.setContent('<div class="area">' + area.name + '</div>');

				customOverlay.setPosition(mouseEvent.latLng);
				customOverlay.setMap(map);
			});

			// 다각형에 mousemove 이벤트를 등록하고 이벤트가 발생하면 커스텀 오버레이의 위치를 변경합니다 
			kakao.maps.event.addListener(polygon, 'mousemove', function (mouseEvent) {

				customOverlay.setPosition(mouseEvent.latLng);
			});

			// 다각형에 mouseout 이벤트를 등록하고 이벤트가 발생하면 폴리곤의 채움색을 원래색으로 변경합니다
			// 커스텀 오버레이를 지도에서 제거합니다 
			kakao.maps.event.addListener(polygon, 'mouseout', function () {
				polygon.setOptions({fillColor: '#fff'});
				customOverlay.setMap(null);
			});

			kakao.maps.event.addListener(polygon, 'click', function (mouseEvent) {
				var content = '<div class="info">' +
					'   <div class="title">' + area.name + '</div>' +
					'   <div class="size">총 면적 : 약 ' + Math.floor(polygon.getArea()) + ' m<sup>2</sup></div>' +
					'</div>';
				document.getElementById('areaName').value = area.name;
				// let weekendPieChart = null;
				// let weekdayBarChart = null;
				// let weekendBarChart = null;        
				infowindow.setContent(content);
				infowindow.setPosition(mouseEvent.latLng);
				infowindow.setMap(map);
				var areaName = area.name;

				// fetch API를 사용하여 서버의 API를 호출
				fetch(`/api/region?category=${areaName}`, {
					method: 'POST',
					headers: {
						'Cookie': 'Set-Cookie=' + document.cookie // JWT 토큰을 쿠키로 전달
					}
				})
					.then(response => response.json())
					.then(data => {
						// 서버로부터 받은 데이터를 처리
						console.log('Received region:', data);
						// 받은 데이터를 해독하여 한글로 표시
						const form = document.getElementById('areaCategoryForm');

						// 기존에 있던 버튼을 모두 제거
						form.innerHTML = '';

						// 데이터를 이용하여 버튼을 생성하고 폼 안에 추가
						data.forEach(area => {
							const button = document.createElement('button');
							button.textContent = area;
							button.value = area; // 버튼의 값 설정
							button.type = 'button'; // 버튼의 타입을 명시적으로 지정
							button.addEventListener('click', function () {
								// 버튼 클릭 시의 동작을 정의할 수 있음
								document.getElementById('areaName').value = area;
								// 예를 들어, 해당 지역을 선택한 후의 동작을 여기에 정의할 수 있음

								console.log('Selected area:', area);
							});

							// 버튼을 폼에 추가
							form.appendChild(button);
						});
					})
					.catch(error => {
						console.error('Error fetching region:', error);
					});
			});
		}



	</script>

	<script>
		$(document).ready(function () {
			// 로그아웃 버튼 클릭 이벤트 처리
			$('#navdrop li #logout').click(function () {
				// 로그아웃 API 호출
				$.ajax({
					type: 'POST',
					url: 'http://localhost:8080/api/user/logout',
					success: function (response) {
						// 로그아웃 성공 시 작업
						console.log(response);
						alert('로그아웃되었습니다.');
						// 여기에 추가 작업을 할 수 있습니다. 예를 들어 로그인 페이지로 리디렉션 등
					},
					error: function (xhr, status, error) {
						// 로그아웃 실패 시 작업
						console.error('로그아웃 실패:', error);
						// 실패 메시지 표시 또는 다른 작업을 수행할 수 있습니다.
					}
				});
			});
		});

	</script>
	<!-- flask에서 업종리스트가져오기 -->

	<script>
		// 선택된 업종을 저장하는 변수
		let selectedCategories = [];
		// 현재 열려 있는 드롭다운의 아이디를 저장하는 변수
		let currentDropdown = null;

		function toggleDropdown(category, dropdownId) {
			const dropdown = document.getElementById(dropdownId);

			// 현재 열려 있는 드롭다운이 있으면 닫기
			if (currentDropdown !== null && currentDropdown !== dropdownId) {
				document.getElementById(currentDropdown).style.display = 'none';
			}

			// 현재 열려 있는 드롭다운 설정
			currentDropdown = dropdownId;

			// 드롭다운 토글
			if (dropdown.style.display === 'block') {
				dropdown.style.display = 'none';
			} else {
				fetch('/api/industry?category=' + encodeURIComponent(category), {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json'
					},
					body: JSON.stringify({
						category: category
					})
				})
					.then(response => response.json())
					.then(data => {
						dropdown.innerHTML = data.map(item => `<button type="button" class="btn btn-secondary" onclick="selectCategory('${item}')">${item}</button>`).join('');
						dropdown.style.display = 'block';
					})
					.catch(error => console.error('에러 발생:', error));
			}
			// 이미지 크기 변경을 막는 함수
			function disableImageResize() {
				const image = document.querySelector('#categoryDropdown1 img');
				image.style.width = '50%';
				image.style.marginTop = '-20px';
				image.style.marginBottom = '10px';
			}

			// 초기화 함수
			function init() {
				// 음식점 버튼에 이벤트 리스너 추가
				document.querySelector('#categoryDropdown1 button').addEventListener('click', function () {
					// 이미지 크기 변경을 막음
					disableImageResize();
				});
			}

			// DOM 로드 시 초기화 함수 호출
			document.addEventListener('DOMContentLoaded', init)
		}

		// 카테고리 선택 함수
		function selectCategory(category) {
			selectedCategories.push(category);
			document.getElementById('selectedCategory').value = selectedCategories.join(', ');
		}

		// 카테고리 선택 함수
		function selectCategory(category) {
			selectedCategories.push(category);
			document.getElementById('selectedCategory').value = selectedCategories.join(', ');
			// 선택된 업종을 input 요소에 저장
			document.getElementById('IndustryName').value = category;
		}

		// 기존 JavaScript 코드 블록

		// 선택된 업종을 저장하는 변수
		let selectedCategory = null;

		// 카테고리 선택 함수
		function selectCategory(category) {
			selectedCategory = category;
			document.getElementById('selectedCategory').value = selectedCategory;
			// 선택된 업종을 input 요소에 저장
			document.getElementById('IndustryName').value = selectedCategory;
			// 선택된 업종 초기화
			selectedCategories = [];
		}    
	</script>
	<!-- 통계 api호출 -->
	<script>
		var myChart; // 전역 변수로 Chart 객체 선언

		function submitForm() {
			const areaName = document.getElementById('areaName').value;
			const selectedCategory = document.getElementById('selectedCategory').value;
			const url = `/api/analysis?region=${encodeURIComponent(areaName)}&industry=${encodeURIComponent(selectedCategory)}`;
			// 선택 완료 버튼을 누르면 숨겨진 요소를 보이도록 설정
			var elementsToShow = document.querySelectorAll('.container.mt-5');
			elementsToShow.forEach(function (element) {
				element.style.display = 'block';
			});
			// Fetch API를 사용하여 데이터 가져오기
			fetch(url, {
				method: 'GET',
				headers: {
					'Content-Type': 'application/json'
				}
			})
				.then(response => {
					if (!response.ok) {
						throw new Error('서버 응답 오류');
					}
					return response.json(); // 서버 응답을 JSON 형식으로 변환
				})
				.then(data => {
					// industry_life 데이터 추출
					const industryLifeData = data.industry_life;

					// seoul_moving_people 데이터 추출
					const seoulMovingPeopleData = data.seoul_moving_people;
					const seoulSimilarStore = data.seoul_similar_store;
					const seoulUseMoney = data.seoul_use_money;
					const seoulZipgack = data.seoul_zipgack;
					drawChart(industryLifeData); // 데이터를 기반으로 그래프 그리기
					drawChart_moving(seoulMovingPeopleData);
					drawSimilarChart(seoulSimilarStore);
					const moneyRegion = seoulUseMoney['2023년 분기 평균 지출'];
					const moneyRegionSpan = document.getElementById('moneyRegionValue');
					// moneyRegion 값을 포맷팅하여 출력합니다.
					moneyRegionSpan.textContent = formatNumber(moneyRegion);
					// displayTotalPopulation(totalPopulation);
					const countZipgack = seoulZipgack['avg_diff'];
					const RegionZipgackDiffSpan = document.getElementById('avg_diff');
					//RegionZipgackDiffSpan.textContent=countZipgack;
					//gpt수정부
					if (countZipgack > 0) {
						RegionZipgackDiffSpan.textContent = `${countZipgack}% 만큼 더 많습니다.`;
						RegionZipgackDiffSpan.style.color = "red"; // 글씨가 빨간색으로 변경됩니다
					} else if (countZipgack < 0) {
						RegionZipgackDiffSpan.textContent = `${-countZipgack}% 만큼 더 적습니다.`;
						RegionZipgackDiffSpan.style.color = "blue"; // 글씨가 빨간색으로 변경됩니다
					} else {
						RegionZipgackDiffSpan.textContent = "같습니다.";
						RegionZipgackDiffSpan.style.color = "green"; // 글씨가 파란색으로 변경됩니다
					}
					// 지역이름 선언부
					const areaName = document.getElementById('areaName').value;
					const areaNameSpan = document.getElementById('areaNameSpan');
					areaNameSpan.textContent = areaName;
					const areaNameSpan1 = document.getElementById('areaNameSpan1');
					areaNameSpan1.textContent = areaName;
					const areaNameSpan2 = document.getElementById('areaNameSpan2');
					areaNameSpan2.textContent = areaName;


					const industryName1 = document.getElementById('selectedCategory').value;


					const industryNameSpan = document.getElementById('industryNameSpan');
					industryNameSpan.textContent = industryName1;

					const industryNameSpan2 = document.getElementById('industryNameSpan2');
					industryNameSpan2.textContent = industryName1;
					// 지출 순위
					const firstCategory = seoulUseMoney['1위카테고리'];
					const secondCategory = seoulUseMoney['2위카테고리'];
					const thirdCategory = seoulUseMoney['3위카테고리'];

					const rankingSpan = document.getElementById('rankingSpan');
					rankingSpan.innerHTML = `<br>1위: ${firstCategory}<br>2위: ${secondCategory}<br>3위: ${thirdCategory}<br>`;
				})
				.catch(error => {
					console.error('에러 발생:', error); // 오류 메시지 출력
				});
		}


	</script>
	<script>
		// 숫자 포맷팅 함수 정의 억 만단위 끊기
		function formatNumber(number) {
			if (number >= 1000000000000) {
				return `${Math.floor(number / 1000000000000)}조 ${Math.floor((number % 1000000000000) / 100000000)}억 ${Math.floor((number % 100000000) / 10000)}만`;
			}
			// 숫자가 억 이상일 경우
			else if (number >= 100000000) {
				return `${Math.floor(number / 100000000)}억 ${Math.floor((number % 100000000) / 10000)}만`;
			}
			// 숫자가 억 미만일 경우
			else {
				return `${Math.floor(number / 10000)}만`;
			}
		}
	</script>



	<!--가영누나 로직  -->
	<script>
		// 로그인 상태를 확인하는 함수
		function isLoggedIn() {
			// 클라이언트의 모든 쿠키를 가져옵니다.
			console.log('###########');
			const cookies = document.cookie.split(';');

			// 쿠키에서 로그인 상태를 나타내는 특정 쿠키를 찾습니다.
			for (let i = 0; i < cookies.length; i++) {
				const cookie = cookies[i].trim();
				if (cookie.startsWith("Set-Cookie")) {
					console.log(cookie)
					return true; // 로그인 상태
				}
			}
			return false; // 로그아웃 상태
		}

		// 로그아웃 함수
		function logout() {
			// 로그아웃 요청을 보내고, 성공시에만 링크를 변경합니다.
			fetch('/api/user/logout', {
				method: 'POST'
			}).then(function (response) {
				if (response.ok) {
					document.getElementById('logout').style.display = 'none'; // 로그아웃 링크 숨김
					document.getElementById('login').style.display = 'block'; // 로그인 링크 표시
				}
			});
		}
		document.addEventListener('DOMContentLoaded', function () {
			try {
				// 오류가 발생할 수 있는 코드
				console.log("#########");

				// isLoggedIn() 함수 호출
				if (isLoggedIn()) {
					document.getElementById('logout').style.display = 'block';
					document.getElementById('login').style.display = 'none';
				} else {
					document.getElementById('logout').style.display = 'none';
					document.getElementById('login').style.display = 'block';
				}
			} catch (error) {
				// 오류 발생 시 처리
				console.error("An error occurred:", error);
			}

			// 각 링크 요소 가져오기
			const mypageLink = document.querySelector('a[href="mypage_viewer"]');
			const seoulStatisticsLink = document.querySelector('a[data-bs-target="#collapseLayouts"]');
			const communityLink = document.querySelector('a[data-bs-target="#collapsePages"]');
			const inquiryLink = document.querySelector('a[href="charts.html"]');

			// 클릭 이벤트 핸들러 설정
			mypageLink.addEventListener('click', function (event) {
				// 로그인 상태를 확인하는 함수 호출
				if (!isLoggedIn()) {
					// 로그인 상태가 아닌 경우, 로그인 페이지로 이동
					alert('로그인해주세요.');
					window.location.href = 'login'; // 로그인 페이지 URL로 변경 필요
					event.preventDefault(); // 클릭 이벤트의 기본 동작을 막음 (링크 이동 취소)
				}
			});

			seoulStatisticsLink.addEventListener('click', function (event) {
				// 로그인 상태를 확인하는 함수 호출
				if (!isLoggedIn()) {
					// 로그인 상태가 아닌 경우, 로그인 페이지로 이동
					alert('로그인해주세요.');
					window.location.href = 'login'; // 로그인 페이지 URL로 변경 필요
					event.preventDefault(); // 클릭 이벤트의 기본 동작을 막음 (링크 이동 취소)
				}
			});

			communityLink.addEventListener('click', function (event) {
				// 로그인 상태를 확인하는 함수 호출
				if (!isLoggedIn()) {
					// 로그인 상태가 아닌 경우, 로그인 페이지로 이동
					alert('로그인해주세요.');
					window.location.href = 'login'; // 로그인 페이지 URL로 변경 필요
					event.preventDefault(); // 클릭 이벤트의 기본 동작을 막음 (링크 이동 취소)
				}
			});

			inquiryLink.addEventListener('click', function (event) {
				// 로그인 상태를 확인하는 함수 호출
				if (!isLoggedIn()) {
					// 로그인 상태가 아닌 경우, 로그인 페이지로 이동
					alert('로그인해주세요.');
					window.location.href = 'login'; // 로그인 페이지 URL로 변경 필요
					event.preventDefault(); // 클릭 이벤트의 기본 동작을 막음 (링크 이동 취소)
				}
			});
		});

	</script>


</body>

</html>"
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:366)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.example.demo.util.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2024-04-29 05:18:17.385 [http-nio-8080-exec-5] ERROR o.s.b.a.w.s.e.ErrorMvcAutoConfiguration$StaticView
				- Cannot render error page for request [/] and exception [An error happened during template parsing (template: "class path resource [templates/index.html]" - line 272, col 14)] as the response has already been committed. As a result, the response may have the wrong status code.
2024-04-29 05:18:35.170 [http-nio-8080-exec-8] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-8][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:18:35.173 [http-nio-8080-exec-8] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-8][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:18:37.992 [http-nio-8080-exec-2] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-2][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:18:37.997 [http-nio-8080-exec-2] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-2][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:22:02.097 [http-nio-8080-exec-5] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-5][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:22:02.097 [http-nio-8080-exec-5] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-5][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:25:16.457 [http-nio-8080-exec-9] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-9][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:25:16.464 [http-nio-8080-exec-9] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-9][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:26:50.612 [http-nio-8080-exec-7] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-7][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:26:50.619 [http-nio-8080-exec-7] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-7][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:27:58.808 [http-nio-8080-exec-10] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-10][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:27:58.815 [http-nio-8080-exec-10] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-10][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:31:45.581 [http-nio-8080-exec-3] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-3][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 204, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:31:45.586 [http-nio-8080-exec-3] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-3][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 207, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:35:52.994 [http-nio-8080-exec-3] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-3][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 205, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:35:52.997 [http-nio-8080-exec-3] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-3][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 208, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:38:02.859 [http-nio-8080-exec-8] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-8][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 206, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:38:02.864 [http-nio-8080-exec-8] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-8][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 209, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:41:20.314 [http-nio-8080-exec-7] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-7][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 206, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:41:20.317 [http-nio-8080-exec-7] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-7][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 209, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:41:40.727 [http-nio-8080-exec-8] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-8][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 206, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:41:40.729 [http-nio-8080-exec-8] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-8][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 209, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:42:45.510 [http-nio-8080-exec-8] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-8][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 206, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:42:45.514 [http-nio-8080-exec-8] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-8][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 209, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:42:46.675 [http-nio-8080-exec-7] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-7][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 206, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:42:46.680 [http-nio-8080-exec-7] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-7][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 209, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:43:08.867 [http-nio-8080-exec-10] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-10][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 206, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:43:08.873 [http-nio-8080-exec-10] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-10][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 209, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:43:41.293 [http-nio-8080-exec-3] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-3][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 206, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:43:41.296 [http-nio-8080-exec-3] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-3][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 209, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:44:02.055 [http-nio-8080-exec-8] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-8][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 206, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:44:02.062 [http-nio-8080-exec-8] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-8][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 209, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:44:30.333 [http-nio-8080-exec-8] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-8][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 205, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:44:30.336 [http-nio-8080-exec-8] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-8][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 208, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:45:34.937 [http-nio-8080-exec-8] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-8][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 205, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:45:34.941 [http-nio-8080-exec-8] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-8][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 208, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:48:41.062 [http-nio-8080-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:48:42.178 [http-nio-8080-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:48:42.394 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:48:43.524 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:48:45.193 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:48:45.793 [http-nio-8080-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:48:46.360 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:48:47.335 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:48:47.805 [http-nio-8080-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:48:48.466 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:48:48.855 [http-nio-8080-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:48:49.288 [http-nio-8080-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:48:50.322 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:48:50.664 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:50:07.425 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:50:07.638 [http-nio-8080-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:50:08.951 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:50:10.248 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:50:11.487 [http-nio-8080-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:50:12.329 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:50:13.355 [http-nio-8080-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:51:24.884 [http-nio-8080-exec-7] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-7][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 205, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:51:24.888 [http-nio-8080-exec-7] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-7][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 208, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 05:51:28.173 [http-nio-8080-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:51:29.964 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:51:30.724 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 05:51:35.793 [http-nio-8080-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver
				- Resolved [org.springframework.web.bind.MissingRequestCookieException: Required cookie 'Set-Cookie' for method parameter type String is not present]
2024-04-29 08:51:50.003 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool
				- HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3h1s801ms684µs900ns).
2024-04-29 09:05:50.815 [http-nio-8080-exec-2] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-2][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 205, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 09:05:50.820 [http-nio-8080-exec-2] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-2][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 208, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 09:05:59.203 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool
				- HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=14m20s270ms212µs500ns).
2024-04-29 09:06:01.429 [http-nio-8080-exec-1] INFO  c.e.d.controller.CustomerController
				- [Log] 로그인 : string
2024-04-29 09:06:03.619 [http-nio-8080-exec-7] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-7][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 205, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 09:06:03.619 [http-nio-8080-exec-7] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-7][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 208, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 09:06:05.430 [http-nio-8080-exec-4] INFO  c.e.demo.controller.SearchController
				- [Log] 해당 카테고리 업종 상권 가져옴 : string
2024-04-29 09:06:07.229 [http-nio-8080-exec-1] INFO  c.e.demo.controller.SearchController
				- [Log] 해당 카테고리 업종 상권 가져옴 : string
2024-04-29 09:06:09.231 [http-nio-8080-exec-6] INFO  c.e.demo.controller.SearchController
				- [Log] 해당 카테고리 업종 상권 가져옴 : string
2024-04-29 09:06:10.016 [http-nio-8080-exec-8] INFO  c.e.demo.controller.SearchController
				- [Log] 해당 카테고리 업종 상권 가져옴 : string
2024-04-29 09:06:10.849 [http-nio-8080-exec-2] INFO  c.e.demo.controller.SearchController
				- [Log] 해당 카테고리 업종 상권 가져옴 : string
2024-04-29 09:06:13.084 [http-nio-8080-exec-5] INFO  c.e.demo.controller.SearchController
				- [Log] 해당 카테고리 업종 상권 가져옴 : string
2024-04-29 09:06:14.972 [http-nio-8080-exec-3] INFO  c.e.demo.controller.SearchController
				- [Log] 해당 카테고리 업종 상권 가져옴 : string
2024-04-29 09:06:16.751 [http-nio-8080-exec-10] INFO  c.e.demo.controller.SearchController
				- [Log] 해당 카테고리 업종 상권 가져옴 : string
2024-04-29 09:11:44.591 [http-nio-8080-exec-4] INFO  c.e.demo.controller.SearchController
				- [Log] 해당 카테고리 업종 상권 가져옴 : string
2024-04-29 09:11:47.097 [http-nio-8080-exec-1] INFO  c.e.demo.controller.SearchController
				- [Log] 해당 카테고리 업종 상권 가져옴 : string
2024-04-29 09:13:14.576 [http-nio-8080-exec-8] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-8][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 205, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 09:13:14.581 [http-nio-8080-exec-8] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-8][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 208, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 09:13:16.148 [http-nio-8080-exec-9] INFO  c.e.demo.controller.SearchController
				- [Log] 해당 카테고리 업종 상권 가져옴 : string
2024-04-29 09:13:20.361 [http-nio-8080-exec-7] INFO  c.e.demo.controller.SearchController
				- [Log] 해당 카테고리 업종 상권 가져옴 : string
2024-04-29 09:13:23.301 [http-nio-8080-exec-5] INFO  c.e.demo.controller.SearchController
				- [Log] 해당 카테고리 업종 상권 가져옴 : string
2024-04-29 09:13:25.083 [http-nio-8080-exec-10] INFO  c.e.demo.controller.SearchController
				- [Log] 해당 카테고리 업종 상권 가져옴 : string
2024-04-29 09:13:27.014 [http-nio-8080-exec-9] INFO  c.e.demo.controller.SearchController
				- [Log] 해당 카테고리 업종 상권 가져옴 : string
2024-04-29 09:29:36.568 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool
				- HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m5s988ms27µs700ns).
2024-04-29 09:29:43.814 [http-nio-8080-exec-6] INFO  c.e.demo.controller.SearchController
				- [Log] 해당 카테고리 업종 상권 가져옴 : string
2024-04-29 09:29:58.545 [http-nio-8080-exec-4] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-4][postList] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template postList, line 162, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 09:29:58.566 [http-nio-8080-exec-4] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-4][postList] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template postList, line 165, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 09:29:58.596 [http-nio-8080-exec-4] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-4][postList] Deprecated unwrapped fragment expression "nav.html :: footer" found in template postList, line 220, col 12. Please use the complete syntax of fragment expressions instead ("~{nav.html :: footer}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 09:29:59.046 [http-nio-8080-exec-5] INFO  c.e.demo.controller.PostController
				- [Log] 게시글 전체 조회됨 : string
2024-04-29 09:29:59.286 [http-nio-8080-exec-5] WARN  com.zaxxer.hikari.pool.PoolBase
				- HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@7df0abc (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-04-29 09:29:59.315 [http-nio-8080-exec-5] WARN  com.zaxxer.hikari.pool.PoolBase
				- HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@47a1fd23 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-04-29 09:29:59.321 [http-nio-8080-exec-5] WARN  com.zaxxer.hikari.pool.PoolBase
				- HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@5c5b583f (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-04-29 09:29:59.323 [http-nio-8080-exec-5] WARN  com.zaxxer.hikari.pool.PoolBase
				- HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@232e33e2 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-04-29 09:29:59.326 [http-nio-8080-exec-5] WARN  com.zaxxer.hikari.pool.PoolBase
				- HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@6e8a391f (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-04-29 09:29:59.344 [http-nio-8080-exec-5] WARN  com.zaxxer.hikari.pool.PoolBase
				- HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@72752195 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-04-29 09:29:59.347 [http-nio-8080-exec-5] WARN  com.zaxxer.hikari.pool.PoolBase
				- HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@4d08bc05 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-04-29 09:29:59.348 [http-nio-8080-exec-5] WARN  com.zaxxer.hikari.pool.PoolBase
				- HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@3f38be75 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-04-29 09:29:59.350 [http-nio-8080-exec-5] WARN  com.zaxxer.hikari.pool.PoolBase
				- HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@2a0112c3 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-04-29 09:29:59.355 [http-nio-8080-exec-5] WARN  com.zaxxer.hikari.pool.PoolBase
				- HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@7123f79f (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-04-29 09:30:14.699 [http-nio-8080-exec-6] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-6][index] Deprecated unwrapped fragment expression "nav.html :: navbar-top" found in template index, line 205, col 7. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-top}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 09:30:14.716 [http-nio-8080-exec-6] WARN  o.t.s.p.AbstractStandardFragmentInsertionTagProcessor
				- [THYMELEAF][http-nio-8080-exec-6][index] Deprecated unwrapped fragment expression "nav.html :: navbar-side" found in template index, line 208, col 9. Please use the complete syntax of fragment expressions instead ("~{nav.html :: navbar-side}"). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.
2024-04-29 09:30:16.419 [http-nio-8080-exec-5] INFO  c.e.demo.controller.SearchController
				- [Log] 해당 카테고리 업종 상권 가져옴 : string
2024-04-29 09:30:19.687 [http-nio-8080-exec-9] INFO  c.e.demo.controller.SearchController
				- [Log] 해당 카테고리 업종 상권 가져옴 : string
2024-04-29 09:30:21.504 [http-nio-8080-exec-10] INFO  c.e.demo.controller.SearchController
				- [Log] 해당 카테고리 업종 상권 가져옴 : string
2024-04-29 09:31:39.635 [RMI TCP Connection(1052)-127.0.0.1] INFO  o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin
				- Application shutdown requested.
2024-04-29 09:31:40.707 [RMI TCP Connection(1052)-127.0.0.1] INFO  o.a.coyote.http11.Http11NioProtocol
				- Stopping ProtocolHandler ["http-nio-8080"]
2024-04-29 09:31:41.349 [RMI TCP Connection(1052)-127.0.0.1] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean
				- Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-29 09:31:42.141 [RMI TCP Connection(1052)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource
				- HikariPool-1 - Shutdown initiated...
2024-04-29 09:31:42.314 [RMI TCP Connection(1052)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource
				- HikariPool-1 - Shutdown completed.
